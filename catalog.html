<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카탈로그 - 남경스틸(주)</title>
    
    <!-- Favicons -->
    <link href="logo.jpg" rel="icon">
    <link href="logo.jpg" rel="apple-touch-icon">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Supabase JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    
    <style>
        /* 인증 모달 스타일 */
        .auth-form .form-group {
          margin-bottom: 20px;
        }
        
        .auth-form label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
          color: #333;
        }
        
        .auth-form input {
          width: 100%;
          padding: 12px;
          border: 1px solid #ddd;
          border-radius: 8px;
          font-size: 16px;
          transition: border-color 0.3s;
          box-sizing: border-box;
        }
        
        .auth-form input:focus {
          outline: none;
          border-color: #0066cc;
          box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }
        
        .btn-primary {
          width: 100%;
          padding: 12px;
          background: #0066cc;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.3s;
          margin: 20px 0 15px 0;
        }
        
        .btn-primary:hover {
          background: #0052a3;
        }
        
        .btn-google {
          width: 100%;
          padding: 12px 20px;
          border: 1px solid #dadce0;
          border-radius: 8px;
          background: white;
          color: #3c4043;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          margin: 10px 0 20px 0;
          font-size: 16px;
          transition: all 0.3s;
        }
        
        .btn-google:hover {
          background: #f8f9fa;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .btn-kakao {
          width: 100%;
          padding: 12px 20px;
          border: 1px solid #FEE500;
          border-radius: 8px;
          background: #FEE500;
          color: #3C1E1E;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          margin: 10px 0 20px 0;
          font-size: 16px;
          font-weight: 500;
          transition: all 0.3s;
        }

        .btn-kakao:hover {
          background: #FDD835;
          border-color: #FDD835;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .divider {
          text-align: center;
          margin: 25px 0;
          position: relative;
        }
        
        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: #ddd;
        }
        
        .divider span {
          background: white;
          padding: 0 15px;
          color: #666;
          font-size: 14px;
        }
        
        .auth-switch {
          text-align: center;
          margin-top: 20px;
          color: #666;
        }
        
        .auth-switch a {
          color: #0066cc;
          text-decoration: none;
          font-weight: 500;
        }
        
        .auth-switch a:hover {
          text-decoration: underline;
        }
        
        .status-message {
          margin-top: 15px;
          padding: 12px;
          border-radius: 8px;
          text-align: center;
          font-weight: 500;
        }
        
        .status-success {
          background: #e8f5e8;
          color: #2e7d32;
          border: 1px solid #4caf50;
        }
        
        .status-error {
          background: #ffebee;
          color: #c62828;
          border: 1px solid #f44336;
        }
        
        .status-info {
          background: #e3f2fd;
          color: #1565c0;
          border: 1px solid #2196f3;
        }
        
        /* 로그인 후 사용자 프로필 영역 */
        .user-profile {
          display: flex;
          align-items: center;
          gap: 10px;
          cursor: pointer;
          padding: 8px 12px;
          border-radius: 8px;
          transition: background-color 0.3s;
        }
        
        .user-profile:hover {
          background: rgba(0, 102, 204, 0.1);
        }
        
        .user-profile img {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          object-fit: cover;
        }
        
        .user-profile .profile-name {
          font-weight: 500;
          color: #333;
        }
        
        .login-btn { 
          background: #0066cc; 
          color: white; 
          padding: 8px 20px; 
          border-radius: 5px; 
          margin-left: 25px;
          text-decoration: none;
          transition: all 0.3s;
        }
        .login-btn:hover { 
          background: #0052a3; 
          color: white;
        }
        
        /* 사용자 프로필 스타일 */
        .user-profile {
          margin-left: 25px;
        }
        
        .profile-icon {
          display: flex;
          align-items: center;
          cursor: pointer;
          transition: all 0.3s ease;
          padding: 5px 10px;
          border-radius: 25px;
        }
        
        .profile-icon:hover {
          background: rgba(255, 255, 255, 0.1);
        }
        
        .profile-icon img {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #fff;
          margin-right: 8px;
        }
        
        .profile-name {
          color: #2c3e50;
          font-weight: 500;
          font-size: 14px;
        }
        
        body { font-family: 'Noto Sans KR', sans-serif !important; }
        
        /* Navigation Dropdown Styles */
        .navmenu ul {
            display: flex;
            align-items: center;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .navmenu > ul > li {
            white-space: nowrap;
            padding: 15px 16px;
            position: relative;
        }
        
        .navmenu a {
            color: #2c3e50;
            padding: 12px 0;
            font-size: 16px;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: space-between;
            white-space: nowrap;
            transition: 0.3s;
            text-decoration: none;
        }
        
        .navmenu .dropdown ul {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 99;
            background-color: #ffffff;
            box-shadow: 0px 0px 30px rgba(44, 62, 80, 0.15);
            padding: 10px 0;
            border-radius: 6px;
            min-width: 180px;
            flex-direction: column;
        }
        
        .navmenu .dropdown:hover > ul {
            display: flex;
        }
        
        .navmenu .dropdown ul li {
            padding: 0;
            width: 100%;
        }
        
        .navmenu .dropdown ul a {
            padding: 10px 20px;
            font-size: 15px;
            color: #2c3e50;
            border: none;
            width: 100%;
            justify-content: flex-start;
        }
        
        .navmenu .dropdown ul a:hover {
            color: #3498db;
            background-color: #f8f9fa;
        }
        
        .toggle-dropdown {
            margin-left: 5px;
        }
        
        @media (max-width: 1199px) {
            .navmenu .dropdown ul {
                position: static;
                display: none;
                z-index: 99;
                padding: 10px 0;
                margin: 10px 20px;
                background-color: #ffffff;
                border: 1px solid #e9ecef;
                box-shadow: none;
                border-radius: 6px;
            }
            
            .navmenu .dropdown.active > ul {
                display: flex;
            }
        }
        
        /* Footer Styles from namkyungst/index.html */
        .footer {
            background-color: #2d3748;
            color: #ffffff;
            border-top: 3px solid #0066cc;
        }
        
        .footer-top {
            padding: 30px 0 20px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }
        
        .footer-column h3,
        .footer-column h4 {
            margin-bottom: 20px;
            color: #ffffff;
            font-weight: 600;
            text-align: left;
        }
        
        .footer-column ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column a {
            color: #cbd5e0;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .footer-column a:hover {
            color: #0066cc;
        }
        
        .footer-column p {
            color: #a0aec0;
            line-height: 1.6;
        }
        
        .contact-info li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
            color: #cbd5e0;
        }
        
        .contact-info i {
            margin-top: 4px;
            color: #0066cc;
        }
        
        .footer-bottom {
            background-color: #1a202c;
            padding: 20px 0;
        }
        
        .bottom-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .bottom-content p {
            color: #a0aec0;
            margin: 0;
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
        }
        
        .footer-links a {
            color: #a0aec0;
            font-size: 14px;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            color: #0066cc;
        }
        
        @media (max-width: 768px) {
            .bottom-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .contact-info {
                text-align: left;
            }
        }
        
        .page-header {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('namkyung.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .catalog-section {
            padding: 80px 0;
        }
        
        .catalog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .catalog-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .catalog-card:hover {
            transform: translateY(-10px);
            border-color: #0066cc;
            box-shadow: 0 20px 40px rgba(0, 102, 204, 0.15);
        }
        
        .catalog-image {
            height: 200px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 3px solid #0066cc;
        }
        
        .catalog-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #0066cc, #004499);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }
        
        .catalog-content {
            padding: 30px;
        }
        
        .catalog-type {
            background: linear-gradient(45deg, #0066cc, #004499);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .download-btn {
            background: linear-gradient(45deg, #0066cc, #004499);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin-top: 15px;
        }
        
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 102, 204, 0.3);
            color: white;
            text-decoration: none;
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
            color: #6c757d;
            font-size: 14px;
        }
        
        .digital-section {
            background: #f8f9fa;
            padding: 80px 0;
        }
        
        .digital-card {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-top: 4px solid #0066cc;
            transition: transform 0.3s ease;
        }
        
        .digital-card:hover {
            transform: translateY(-5px);
        }
        
        .digital-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #0066cc, #004499);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 32px;
        }
        
        .request-section {
            padding: 80px 0;
        }
        
        .request-form {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid #f8f9fa;
        }
        
        .form-control {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 12px 15px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #0066cc;
            box-shadow: 0 0 0 0.2rem rgba(0, 102, 204, 0.15);
        }
        
        .form-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            display: block;
        }
        
        /* Footer contact info alignment */
        .contact-info {
            text-align: left;
        }
    
        /* 연락처 섹션만 왼쪽 정렬 */
        .footer-column:last-child h4 {
            text-align: left;
        }

        .footer-column:last-child {
            padding-left: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header id="header" class="header d-flex align-items-center sticky-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center">
            <a href="index.html" class="logo d-flex align-items-center me-auto">
                <img src="logo.jpg" alt="남경스틸 로고" style="height: 40px; margin-right: 10px;">
                <h1 class="sitename">남경스틸(주)</h1>
            </a>
            
            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a href="index.html">홈</a></li>
                    <li class="dropdown"><a href="index.html#about"><span>회사소개</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="ceo-message.html">CEO 인사말</a></li>
                            <li><a href="company-history.html">회사연혁</a></li>
                            <li><a href="vision-mission.html">비전/미션</a></li>
                            <li><a href="organization.html">조직도</a></li>
                            <li><a href="location.html">오시는길</a></li>
                            <li><a href="certificates.html">인증서</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="index.html#services"><span>제품소개</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="service1-details.html">열연강판</a></li>
                            <li><a href="service2-details.html">냉연강판</a></li>
                            <li><a href="service3-details.html">특수강</a></li>
                            <li><a href="service4-details.html">맞춤 가공</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"><span>사업영역</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="steel-manufacturing.html">철강제조</a></li>
                            <li><a href="processing-service.html">가공서비스</a></li>
                            <li><a href="tech-research.html">기술연구</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"><span>고객센터</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="quote-inquiry.html">견적문의</a></li>
                            <li><a href="catalog.html">카탈로그</a></li>
                            <li><a href="faq.html">FAQ</a></li>
                            <li><a href="product-inquiry.html">제품문의</a></li>
                            <li><a href="technical-support.html">기술지원</a></li>
                        </ul>
                    </li>
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>

            <!-- 로그인 버튼 -->
            <a class="login-btn" href="#" onclick="showLoginModal(); return false;" id="mainLoginBtn">
              <i class="bi bi-person-circle"></i> <span id="loginBtnText">로그인</span>
            </a>
            
            <!-- 로그인 후 프로필 아이콘 -->
            <div class="user-profile" id="userProfile" style="display: none;">
              <div class="profile-icon" onclick="handleProfileClick()">
                <img id="profileImage" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+" alt="프로필" />
                <span class="profile-name" id="profileName">사용자</span>
              </div>
            </div>

        </div>
    </header>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>카탈로그</h1>
            <p>남경스틸(주)의 제품 정보와 기술 자료를 확인하세요</p>
        </div>
    </div>

    <!-- Catalog Section -->
    <section class="catalog-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2>제품 카탈로그</h2>
                <p class="lead">다양한 철강 제품의 상세 정보를 제공합니다</p>
            </div>
            
            <div class="catalog-grid">
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-fire"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">제품 카탈로그</div>
                        <h4>열연강판 종합 카탈로그</h4>
                        <p>열연강판의 규격, 특성, 용도 등을 상세히 소개하는 종합 카탈로그입니다.</p>
                        <ul class="list-unstyled">
                            <li>• 제품 규격 및 치수</li>
                            <li>• 화학 성분 및 기계적 성질</li>
                            <li>• 용도별 적용 사례</li>
                            <li>• 품질 관리 기준</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('열연강판')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 12.5MB | 24페이지</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-snow"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">제품 카탈로그</div>
                        <h4>냉연강판 제품 가이드</h4>
                        <p>냉연강판의 다양한 등급과 표면 처리 옵션에 대한 상세 가이드입니다.</p>
                        <ul class="list-unstyled">
                            <li>• 등급별 특성 비교</li>
                            <li>• 표면 처리 종류</li>
                            <li>• 가공성 평가</li>
                            <li>• 적용 분야별 추천</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('냉연강판')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 8.7MB | 18페이지</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-diamond"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">제품 카탈로그</div>
                        <h4>특수강 전문 카탈로그</h4>
                        <p>고강도, 내식성, 내열성 특수강의 종합적인 기술 정보를 제공합니다.</p>
                        <ul class="list-unstyled">
                            <li>• 합금 성분 상세 분석</li>
                            <li>• 열처리 조건</li>
                            <li>• 기계적 특성 데이터</li>
                            <li>• 특수 용도 적용</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('특수강')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 15.2MB | 32페이지</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-tools"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">서비스 가이드</div>
                        <h4>가공 서비스 안내서</h4>
                        <p>절단, 용접, 굽힘 등 다양한 가공 서비스에 대한 상세 안내서입니다.</p>
                        <ul class="list-unstyled">
                            <li>• 가공 종류별 세부 사양</li>
                            <li>• 정밀도 및 공차</li>
                            <li>• 가공 가능 범위</li>
                            <li>• 납기 및 비용 안내</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('가공서비스')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 6.3MB | 16페이지</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-award"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">품질 보증</div>
                        <h4>품질 관리 매뉴얼</h4>
                        <p>ISO 인증 품질 관리 시스템과 검사 절차에 대한 상세 매뉴얼입니다.</p>
                        <ul class="list-unstyled">
                            <li>• 품질 관리 체계</li>
                            <li>• 검사 기준 및 방법</li>
                            <li>• 인증서 및 시험성적서</li>
                            <li>• 품질 보증 정책</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('품질관리')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 4.8MB | 12페이지</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-building"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">회사 소개</div>
                        <h4>남경스틸 기업 브로셔</h4>
                        <p>회사 연혁, 비전, 설비 현황 등을 담은 종합 기업 소개 브로셔입니다.</p>
                        <ul class="list-unstyled">
                            <li>• 회사 개요 및 연혁</li>
                            <li>• 비전 및 경영철학</li>
                            <li>• 생산 설비 현황</li>
                            <li>• 인증 및 수상 내역</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('기업브로셔')">
                            <i class="bi bi-download"></i> 다운로드
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 9.1MB | 20페이지</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Digital Catalog Section -->
    <section class="digital-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2>디지털 카탈로그</h2>
                <p class="lead">온라인에서 바로 확인할 수 있는 인터랙티브 카탈로그</p>
            </div>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-tablet"></i>
                        </div>
                        <h4>온라인 카탈로그</h4>
                        <p>웹브라우저에서 바로 확인할 수 있는 인터랙티브 제품 카탈로그</p>
                        <a href="#" class="download-btn">온라인 보기</a>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-calculator"></i>
                        </div>
                        <h4>규격 계산기</h4>
                        <p>치수와 두께를 입력하면 중량과 가격을 자동으로 계산해주는 도구</p>
                        <a href="#" class="download-btn">계산기 사용</a>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-search"></i>
                        </div>
                        <h4>제품 검색</h4>
                        <p>용도와 조건을 입력하면 최적의 제품을 추천해주는 검색 시스템</p>
                        <a href="#" class="download-btn">제품 찾기</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Request Section -->
    <section class="request-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="request-form">
                        <h3 class="text-center mb-4">맞춤 카탈로그 요청</h3>
                        <p class="text-center mb-4">특정 제품이나 용도에 맞는 맞춤형 자료가 필요하시면 요청해주세요.</p>
                        
                        <form id="catalogRequestForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">회사명 *</label>
                                        <input type="text" class="form-control" name="company" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">담당자명 *</label>
                                        <input type="text" class="form-control" name="contact_name" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">연락처 *</label>
                                        <input type="tel" class="form-control" name="phone" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">이메일 *</label>
                                        <input type="email" class="form-control" name="email" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">관심 제품 분야</label>
                                <select class="form-control" name="product_field">
                                    <option value="">선택해주세요</option>
                                    <option value="열연강판">열연강판</option>
                                    <option value="냉연강판">냉연강판</option>
                                    <option value="특수강">특수강</option>
                                    <option value="가공서비스">가공서비스</option>
                                    <option value="전체">전체 제품</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">요청 사항</label>
                                <textarea class="form-control" name="request_details" rows="4" placeholder="필요한 자료나 특별한 요구사항을 상세히 입력해주세요."></textarea>
                            </div>
                            
                            <div class="text-center">
                                <button type="submit" class="download-btn">
                                    <i class="bi bi-send"></i> 자료 요청하기
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-column">
                        <h3>남경스틸(주)</h3>
                        <p>철강산업의 리더로서 최고의 품질과 서비스를 제공합니다.</p>
                    </div>
                    <div class="footer-column">
                        <h4>빠른 링크</h4>
                        <ul>
                            <li><a href="#">회사소개</a></li>
                            <li><a href="#">제품정보</a></li>
                            <li><a href="#">견적문의</a></li>
                            <li><a href="#">채용정보</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>고객지원</h4>
                        <ul>
                            <li><a href="#">자주묻는질문</a></li>
                            <li><a href="#">카탈로그</a></li>
                            <li><a href="#">A/S 신청</a></li>
                            <li><a href="#">오시는길</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>연락처</h4>
                        <ul class="contact-info">
                            <li><i class="fas fa-map-marker-alt"></i> 부산시 사상구 낙동대로 832</li>
                            <li><i class="fas fa-phone"></i> 051-314-9701</li>
                            <li><i class="fas fa-fax"></i> 051-314-9702</li>
                            <li><i class="fas fa-envelope"></i> namkyungst@naver.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="bottom-content">
                    <p>&copy; 2025 남경스틸(주). All rights reserved.</p>
                    <div class="footer-links">
                        <a href="#">개인정보처리방침</a>
                        <a href="#">이용약관</a>
                        <a href="#">이메일무단수집거부</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // 드롭다운 메뉴 클릭 기능 (모바일용)
        document.addEventListener('DOMContentLoaded', function() {
            const dropdownToggles = document.querySelectorAll('.toggle-dropdown');
            
            dropdownToggles.forEach(function(toggle) {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const dropdown = this.closest('.dropdown');
                    const isActive = dropdown.classList.contains('active');
                    
                    // 다른 모든 드롭다운 닫기
                    document.querySelectorAll('.dropdown.active').forEach(function(activeDropdown) {
                        if (activeDropdown !== dropdown) {
                            activeDropdown.classList.remove('active');
                        }
                    });
                    
                    // 현재 드롭다운 토글
                    dropdown.classList.toggle('active', !isActive);
                });
            });
            
            // 외부 클릭 시 드롭다운 닫기
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.dropdown')) {
                    document.querySelectorAll('.dropdown.active').forEach(function(dropdown) {
                        dropdown.classList.remove('active');
                    });
                }
            });
        });

        // 카탈로그 다운로드 기능
        function downloadCatalog(catalogType) {
            alert(`${catalogType} 카탈로그 다운로드를 시작합니다.`);
            // 실제 구현시에는 파일 다운로드 로직을 추가
        }

        // 맞춤 카탈로그 요청 폼 제출
        document.getElementById('catalogRequestForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const required = ['company', 'contact_name', 'phone', 'email'];
            let isValid = true;
            
            required.forEach(field => {
                if (!formData.get(field)) {
                    isValid = false;
                }
            });
            
            if (isValid) {
                alert('맞춤 카탈로그 요청이 접수되었습니다. 빠른 시일 내에 연락드리겠습니다.');
                this.reset();
            } else {
                alert('필수 항목을 모두 입력해주세요.');
            }
        });
    </script>

    <!-- 로그인/회원가입 모달 -->
    <div id="authModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="authModalTitle">로그인</h2>
          <button class="close-btn" onclick="closeAuthModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <!-- 로그인 폼 -->
          <div id="loginForm" class="auth-form">
            <div class="form-group">
              <label>이메일</label>
              <input type="email" id="loginEmail" placeholder="이메일을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>비밀번호</label>
              <input type="password" id="loginPassword" placeholder="비밀번호를 입력하세요" required>
            </div>
            
            <button type="button" onclick="handleEmailLogin()" class="btn-primary">로그인</button>
            
            <!-- 구분선 -->
            <div class="divider">
              <span>또는</span>
            </div>
            
            <!-- Google 로그인 -->
            <button type="button" onclick="handleGoogleLogin()" class="btn-google">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M17.64 9.205c0-.639-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/>
                  <path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/>
                  <path d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                  <path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/>
                </g>
              </svg>
              Google로 로그인
            </button>

            <!-- 카카오 로그인 -->
            <button type="button" onclick="handleKakaoLogin()" class="btn-kakao">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M9 0C4.03 0 0 3.13 0 7c0 2.52 1.67 4.74 4.19 6.04L3.5 16.5c-.13.47.35.85.76.6l3.92-2.65c.28.02.55.05.82.05 4.97 0 9-3.13 9-7S13.97 0 9 0z" fill="#3C1E1E"/>
                </g>
              </svg>
              카카오로 로그인
            </button>
            
            <div class="auth-switch">
              계정이 없으신가요? <a href="#" onclick="showRegisterForm()">회원가입</a>
            </div>
          </div>
          
          <!-- 회원가입 폼 -->
          <div id="registerForm" class="auth-form" style="display: none;">
            <div class="form-group">
              <label>이름</label>
              <input type="text" id="registerName" placeholder="이름을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>이메일</label>
              <input type="email" id="registerEmail" placeholder="이메일을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>비밀번호</label>
              <input type="password" id="registerPassword" placeholder="비밀번호를 입력하세요 (최소 6자)" required minlength="6">
            </div>
            
            <div class="form-group">
              <label>비밀번호 확인</label>
              <input type="password" id="confirmPassword" placeholder="비밀번호를 다시 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>부서 (선택사항)</label>
              <input type="text" id="registerDepartment" placeholder="부서를 입력하세요">
            </div>
            
            <div class="form-group">
              <label>직책 (선택사항)</label>
              <input type="text" id="registerPosition" placeholder="직책을 입력하세요">
            </div>
            
            <button type="button" onclick="handleRegister()" class="btn-primary">회원가입</button>
            
            <div class="auth-switch">
              이미 계정이 있으신가요? <a href="#" onclick="showLoginForm()">로그인</a>
            </div>
          </div>
          
          <div id="authStatus" class="status-message" style="display: none;"></div>
        </div>
      </div>
    </div>

    <!-- 프로필 모달 -->
    <div class="modal" id="profileModal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>프로필 설정</h2>
          <button class="close-btn" onclick="hideProfileModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <div class="profile-section">
            <div class="profile-image-section">
              <div class="current-profile-image">
                <img id="modalProfileImage" src="" alt="프로필 이미지" />
              </div>
              <div class="profile-image-upload">
                <input type="file" id="profileImageInput" accept="image/*" style="display: none;" onchange="handleProfileImageUpload(event)">
                <button type="button" onclick="document.getElementById('profileImageInput').click()">이미지 변경</button>
              </div>
            </div>
            
            <form id="profileForm">
              <div class="form-group">
                <label>이름</label>
                <input type="text" id="profileUserName" readonly>
              </div>
              
              <div class="form-group">
                <label>이메일</label>
                <input type="email" id="profileUserEmail" readonly>
              </div>
              
              <div class="form-group">
                <label>부서</label>
                <input type="text" id="profileUserDepartment" readonly>
              </div>
              
              <div class="form-group">
                <label>직책</label>
                <input type="text" id="profileUserPosition" readonly>
              </div>
            </form>
          </div>
          
          <div class="password-section">
            <h3>비밀번호 변경</h3>
            <form id="passwordChangeForm">
              <div class="form-group">
                <label>현재 비밀번호</label>
                <input type="password" id="currentPassword" required>
              </div>
              
              <div class="form-group">
                <label>새 비밀번호</label>
                <input type="password" id="newPassword" required minlength="6">
              </div>
              
              <div class="form-group">
                <label>새 비밀번호 확인</label>
                <input type="password" id="confirmPassword" required>
              </div>
              
              <button type="submit" class="btn-change-password">비밀번호 변경</button>
            </form>
          </div>
        </div>
        
        <div class="modal-footer">
          <button onclick="logout()" class="btn-logout">로그아웃</button>
          <button onclick="hideProfileModal()" class="btn-close">닫기</button>
        </div>
      </div>
    </div>

    <style>
      /* 프로필 모달 스타일 */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      
      .modal-content {
        background: white;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        max-height: 80%;
        overflow-y: auto;
      }
      
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid #eee;
      }
      
      .modal-header h2 {
        margin: 0;
        color: #333;
      }
      
      .close-btn {
        background: none;
        border: none;
        font-size: 24px;
        color: #999;
        cursor: pointer;
        position: absolute;
        right: 20px;
        top: 20px;
        padding: 5px;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.3s ease;
        z-index: 1001;
      }
      
      .close-btn:hover {
        color: #333;
      }
      
      .modal-body {
        padding: 20px;
      }
      
      .profile-image-section {
        text-align: center;
        margin-bottom: 30px;
      }
      
      .current-profile-image img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #667eea;
        margin-bottom: 15px;
      }
      
      .profile-image-upload button {
        background: #667eea;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
      }
      
      .form-group {
        margin-bottom: 15px;
      }
      
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #333;
      }
      
      .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
      }
      
      .form-group input[readonly] {
        background: #f5f5f5;
      }
      
      .password-section {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
      }
      
      .password-section h3 {
        margin-bottom: 20px;
        color: #333;
      }
      
      .btn-change-password {
        width: 100%;
        background: #28a745;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
      }
      
      .btn-change-password:hover {
        background: #218838;
      }
      
      .modal-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-top: 1px solid #eee;
        gap: 10px;
      }
      
      .btn-logout {
        background: #dc3545;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-logout:hover {
        background: #c82333;
      }
      
      .btn-close {
        background: #6c757d;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: background-color 0.3s ease;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-close:hover {
        background: #545b62;
      }
    
        /* 연락처 섹션만 왼쪽 정렬 */
        .footer-column:last-child h4 {
            text-align: left;
        }

        .footer-column:last-child {
            padding-left: 0;
        }
    </style>

    <!-- Vendor JS Files from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

    <!-- Supabase 및 로그인 기능 -->
    <script>
      // Supabase 설정
      const SUPABASE_URL = 'https://zgyawfmjconubxaiamod.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpneWF3Zm1qY29udWJ4YWlhbW9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjQzNzIsImV4cCI6MjA2NzM0MDM3Mn0.shjBE2OQeILwkLLi4E6Bq0-b6YPUs-WFwquexdUiM9A';
      
      // Supabase 클라이언트 초기화
      let supabaseClient = null;
      
      try {
        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
          auth: {
            persistSession: true,
            detectSessionInUrl: true,
            autoRefreshToken: true
          }
        });
        console.log('✅ Supabase 클라이언트 초기화 완료');
      } catch (error) {
        console.error('❌ Supabase 초기화 오류:', error);
      }
      
      // 상태 표시 함수
      function showStatus(message, type = 'info') {
        const status = document.getElementById('authStatus');
        status.style.display = 'block';
        status.className = `status-message status-${type}`;
        status.textContent = message;
        
        console.log(`${type.toUpperCase()}: ${message}`);
      }
      
      // 인증 모달 열기 (로그인 폼)
      function showLoginModal() {
        console.log('🔐 로그인 모달 열기');
        document.getElementById('authModal').style.display = 'flex';
        showLoginForm();
      }
      
      // 인증 모달 닫기
      function closeAuthModal() {
        console.log('❌ 인증 모달 닫기');
        document.getElementById('authModal').style.display = 'none';
        clearAuthForms();
      }
      
      // 로그인 폼 표시
      function showLoginForm() {
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';
        document.getElementById('authModalTitle').textContent = '로그인';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 회원가입 폼 표시
      function showRegisterForm() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('registerForm').style.display = 'block';
        document.getElementById('authModalTitle').textContent = '회원가입';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 폼 초기화
      function clearAuthForms() {
        document.getElementById('loginEmail').value = '';
        document.getElementById('loginPassword').value = '';
        document.getElementById('registerName').value = '';
        document.getElementById('registerEmail').value = '';
        document.getElementById('registerPassword').value = '';
        document.getElementById('confirmPassword').value = '';
        document.getElementById('registerDepartment').value = '';
        document.getElementById('registerPosition').value = '';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 이메일 로그인
      async function handleEmailLogin() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        if (!email || !password) {
          showStatus('이메일과 비밀번호를 입력하세요.', 'error');
          return;
        }
        
        showStatus('로그인 중...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithPassword({
            email: email,
            password: password
          });
          
          if (error) {
            showStatus('로그인 실패: ' + error.message, 'error');
          } else {
            showStatus('로그인 성공!', 'success');
            console.log('사용자 정보:', data.user);
            
            const user = {
              id: data.user.id,
              email: data.user.email,
              name: data.user.user_metadata?.name || data.user.email,
              profileImage: data.user.user_metadata?.avatar_url,
              provider: 'email'
            };
            
            saveUserAndUpdateUI(user);
            closeAuthModal();
            
            setTimeout(() => {
              window.location.href = 'employee-dashboard.html';
            }, 1000);
          }
        } catch (error) {
          showStatus('로그인 오류: ' + error.message, 'error');
        }
      }
      
      // 회원가입
      async function handleRegister() {
        const name = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const department = document.getElementById('registerDepartment').value;
        const position = document.getElementById('registerPosition').value;
        
        if (!name || !email || !password) {
          showStatus('이름, 이메일, 비밀번호는 필수 입력 항목입니다.', 'error');
          return;
        }
        
        if (password !== confirmPassword) {
          showStatus('비밀번호가 일치하지 않습니다.', 'error');
          return;
        }
        
        if (password.length < 6) {
          showStatus('비밀번호는 최소 6자 이상이어야 합니다.', 'error');
          return;
        }
        
        showStatus('회원가입 중...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signUp({
            email: email,
            password: password,
            options: {
              data: {
                name: name,
                department: department,
                position: position,
                company_domain: 'namkyungsteel.com',
                company_name: '남경스틸(주)'
              }
            }
          });
          
          if (error) {
            showStatus('회원가입 실패: ' + error.message, 'error');
          } else {
            console.log('Supabase Auth 회원가입 성공:', data);
            
            try {
              if (data.user) {
                const { data: insertData, error: insertError } = await supabaseClient
                  .from('users')
                  .insert([
                    {
                      id: data.user.id,
                      email: email,
                      name: name,
                      department: department || '',
                      position: position || '',
                      company_domain: 'namkyungsteel.com',
                      company_name: '남경스틸(주)',
                      role: 'employee',
                      created_at: new Date().toISOString()
                    }
                  ]);
                
                if (insertError) {
                  console.error('❌ users 테이블 저장 오류:', insertError);
                  showStatus('회원가입은 성공했지만 사용자 정보 저장에 실패했습니다.', 'error');
                } else {
                  console.log('✅ users 테이블에 사용자 정보 저장 완료:', insertData);
                  showStatus('회원가입 성공! 이메일을 확인해주세요.', 'success');
                }
              }
            } catch (tableError) {
              console.error('❌ users 테이블 저장 예외:', tableError);
            }
            
            if (data.user && data.session) {
              const user = {
                id: data.user.id,
                email: data.user.email,
                name: name,
                department: department,
                position: position,
                provider: 'email'
              };
              
              saveUserAndUpdateUI(user);
              closeAuthModal();
              
              setTimeout(() => {
                window.location.href = 'employee-dashboard.html';
              }, 1000);
            }
          }
        } catch (error) {
          showStatus('회원가입 오류: ' + error.message, 'error');
        }
      }
      
      // 사용자 정보 저장 및 UI 업데이트
      function saveUserAndUpdateUI(user) {
        sessionStorage.setItem('currentUser', JSON.stringify(user));
        updateUIForLoggedInUser(user);
        console.log('✅ 사용자 정보 저장 및 UI 업데이트 완료:', user);
      }
      
      // 로그인된 사용자용 UI 업데이트
      function updateUIForLoggedInUser(user) {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'none';
          userProfile.style.display = 'flex';
          
          const profileImage = document.getElementById('profileImage');
          if (user.profileImage) {
            profileImage.src = user.profileImage;
          }
          
          const profileName = document.getElementById('profileName');
          if (profileName) {
            profileName.textContent = user.name;
          }
        }
      }
      
      // 로그아웃된 상태용 UI 업데이트
      function updateUIForLoggedOutUser() {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'flex';
          userProfile.style.display = 'none';
        }
      }
      
      // 로그아웃
      function logout() {
        sessionStorage.removeItem('currentUser');
        updateUIForLoggedOutUser();
        console.log('🚪 로그아웃 완료');
        
        hideProfileModal();
        
        setTimeout(() => {
          window.location.href = '/index.html';
        }, 100);
      }
      
      // Google 로그인
      async function handleGoogleLogin() {
        console.log('🔐 Google 로그인 시작');
        showStatus('Google 로그인 중...', 'info');
        
        if (!supabaseClient) {
          showStatus('데이터베이스 연결이 필요합니다.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'google',
            options: {
              redirectTo: 'https://namkyungsteel.com'
            }
          });
          
          if (error) {
            console.error('❌ Google 로그인 오류:', error);
            showStatus('Google 로그인 오류: ' + error.message, 'error');
          } else {
            console.log('✅ Google OAuth 시작됨:', data);
            showStatus('Google 로그인 페이지로 이동합니다...', 'success');
          }
        } catch (error) {
          console.error('❌ Google 로그인 예외:', error);
          showStatus('Google 로그인 중 오류가 발생했습니다: ' + error.message, 'error');
        }
      }

      // 카카오 로그인
      async function handleKakaoLogin() {
        console.log('🔐 Kakao 로그인 시작');
        showStatus('카카오 로그인 중...', 'info');
        
        if (!supabaseClient) {
          showStatus('데이터베이스 연결이 필요합니다.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'kakao',
            options: {
              redirectTo: 'https://namkyungsteel.com',
              scopes: 'profile_nickname profile_image account_email'
            }
          });
          
          if (error) {
            console.error('❌ Kakao 로그인 오류:', error);
            showStatus('카카오 로그인 오류: ' + error.message, 'error');
          } else {
            console.log('✅ Kakao OAuth 시작됨:', data);
            showStatus('카카오 로그인 페이지로 이동합니다...', 'success');
          }
        } catch (error) {
          console.error('❌ Kakao 로그인 예외:', error);
          showStatus('카카오 로그인 중 오류가 발생했습니다: ' + error.message, 'error');
        }
      }
      
      // OAuth 콜백 처리
      async function handleOAuthCallback() {
        const urlParams = new URLSearchParams(window.location.search);
        const hashParams = new URLSearchParams(window.location.hash.substring(1));
        
        if (urlParams.get('code') || hashParams.get('access_token') || window.location.hash.includes('access_token')) {
          console.log('🔐 OAuth 콜백 감지됨');
          
          try {
            const { data: { session }, error } = await supabaseClient.auth.getSession();
            
            if (error && !error.message.includes('skew')) {
              console.error('❌ 세션 확인 오류:', error);
              return;
            }
            
            if (session && session.user) {
              console.log('✅ OAuth 로그인 성공:', session.user);
              
              const actualProvider = session.user.app_metadata?.provider || 'unknown';
              const user = {
                id: session.user.id,
                email: session.user.email,
                name: session.user.user_metadata?.name || session.user.user_metadata?.full_name || session.user.email,
                profileImage: session.user.user_metadata?.avatar_url || session.user.user_metadata?.picture,
                provider: actualProvider
              };
              
              try {
                const { data: existingUser, error: selectError } = await supabaseClient
                  .from('users')
                  .select('id')
                  .eq('id', user.id)
                  .single();
                
                if (!existingUser) {
                  const { data: insertData, error: insertError } = await supabaseClient
                    .from('users')
                    .insert([
                      {
                        id: user.id,
                        email: user.email,
                        name: user.name,
                        company_domain: 'namkyungsteel.com',
                        company_name: '남경스틸(주)',
                        role: null,
                        provider: actualProvider,
                        is_approved: false,
                        is_active: true,
                        created_at: new Date().toISOString()
                      }
                    ]);
                  
                  if (insertError) {
                    console.error('❌ Google 사용자 저장 오류:', insertError);
                  } else {
                    console.log('✅ Google 사용자 정보 저장 완료:', insertData);
                  }
                }
              } catch (tableError) {
                console.error('❌ Google 사용자 테이블 처리 예외:', tableError);
              }
              
              saveUserAndUpdateUI(user);
              window.history.replaceState({}, document.title, window.location.pathname);
              
              const provider = user.provider || 'OAuth';
              let providerName = '';
              if (provider === 'google') {
                  providerName = 'Google';
              } else if (provider === 'kakao') {
                  providerName = '카카오';
              } else {
                  providerName = '소셜';
              }
              
              alert(`${providerName} 로그인 성공! 환영합니다, ${user.name}`);
              window.location.href = 'employee-dashboard.html';
            }
          } catch (error) {
            if (!error.message.includes('skew')) {
              console.error('❌ OAuth 콜백 처리 오류:', error);
            }
          }
        }
      }
      
      // 페이지 로드 시 사용자 상태 확인 및 OAuth 콜백 처리
      document.addEventListener('DOMContentLoaded', function() {
        console.log('📄 페이지 로드됨');
        checkAndRestoreUserSession();
        handleOAuthCallback();
      });
      
      // 저장된 사용자 세션 확인 및 복원
      function checkAndRestoreUserSession() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            console.log('✅ 저장된 사용자 정보 복원:', user);
            updateUIForLoggedInUser(user);
          } catch (error) {
            console.error('❌ 사용자 정보 파싱 오류:', error);
            sessionStorage.removeItem('currentUser');
            updateUIForLoggedOutUser();
          }
        } else {
          console.log('ℹ️ 저장된 사용자 정보 없음');
          updateUIForLoggedOutUser();
        }
      }
      
      // 프로필 클릭 핸들러
      function handleProfileClick() {
        showProfileModal();
      }
      
      // 기본 아바타 생성 함수
      function generateDefaultAvatar(name) {
        return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+';
      }

      // 프로필 모달 표시
      function showProfileModal() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (user.profileImage) {
              modalProfileImage.src = user.profileImage;
            } else {
              modalProfileImage.src = generateDefaultAvatar(user.name || user.email);
            }
            
            document.getElementById('profileUserName').value = user.name || '';
            document.getElementById('profileUserEmail').value = user.email || '';
            document.getElementById('profileUserDepartment').value = user.department || '';
            document.getElementById('profileUserPosition').value = user.position || '';
            
            document.getElementById('profileModal').style.display = 'flex';
          } catch (error) {
            console.error('❌ 사용자 정보 로드 오류:', error);
          }
        }
      }
      
      // 프로필 모달 숨기기
      function hideProfileModal() {
        document.getElementById('profileModal').style.display = 'none';
      }
      
      // 프로필 이미지 업로드
      async function handleProfileImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        if (file.size > 2 * 1024 * 1024) {
          alert('이미지 크기는 2MB 이하여야 합니다.');
          return;
        }
        
        if (!file.type.startsWith('image/')) {
          alert('이미지 파일만 업로드 가능합니다.');
          return;
        }
        
        const reader = new FileReader();
        reader.onload = async function(e) {
          const imageData = e.target.result;
          
          try {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            
            if (supabaseClient) {
              try {
                const { data, error } = await supabaseClient
                  .from('users')
                  .update({ 
                    profile_image: imageData,
                    updated_at: new Date().toISOString()
                  })
                  .eq('email', currentUser.email)
                  .select();
                  
                if (error) {
                  console.error('데이터베이스 업데이트 오류:', error);
                } else {
                  console.log('프로필 이미지 데이터베이스 업데이트 완료');
                }
              } catch (dbError) {
                console.error('데이터베이스 연결 오류:', dbError);
              }
            }
            
            currentUser.profileImage = imageData;
            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (modalProfileImage) modalProfileImage.src = imageData;
            
            const headerProfileImage = document.getElementById('profileImage');
            if (headerProfileImage) headerProfileImage.src = imageData;
            
            alert('프로필 이미지가 업데이트되었습니다.');
          } catch (error) {
            console.error('이미지 업로드 오류:', error);
            alert('이미지 업로드 중 오류가 발생했습니다.');
          }
        };
        
        reader.readAsDataURL(file);
      }
      
      window.testGoogleLogin = handleGoogleLogin;
      window.testSupabase = function() {
        console.log('Supabase 클라이언트:', supabaseClient);
        return supabaseClient !== null;
      };
    </script>
</body>
</html>