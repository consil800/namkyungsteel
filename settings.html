<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¤ì • - ì² ê°•ì˜ì—… ì—…ë¬´ì¼ì§€</title>
    <!-- Favicons -->
    <link href="logo.jpg" rel="icon">
    <link href="logo.jpg" rel="apple-touch-icon">
    
    <!-- Supabase JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Database Manager -->
    <script src="database.js"></script>
    
    <link rel="stylesheet" href="styles.css">
    <style>
        .settings-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .settings-section h3 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .option-list {
            list-style: none;
            padding: 0;
            margin: 15px 0;
        }
        
        .option-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        
        .option-item:hover {
            background: #e9ecef;
        }
        
        .option-text {
            flex: 1;
            margin-right: 10px;
        }
        
        .option-actions {
            display: flex;
            gap: 5px;
        }
        
        .btn-small {
            padding: 5px 10px;
            font-size: 12px;
            border-radius: 3px;
        }
        
        .add-option-form {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            align-items: center;
        }
        
        .add-option-form input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .color-preview {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
            border: 1px solid #ddd;
            vertical-align: middle;
        }
        
        .color-option-form {
            display: grid;
            grid-template-columns: 1fr 100px 80px;
            gap: 10px;
            align-items: center;
        }
        
        .edit-form {
            display: none;
            background: #fff;
            border: 2px solid #3498db;
            border-radius: 5px;
            padding: 10px;
            margin: 5px 0;
        }
        
        .edit-form.active {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .edit-form input {
            flex: 1;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ì„¤ì •</h1>
            <nav>
                <a href="worklog.html" class="btn btn-cyan">ì´ì „ìœ¼ë¡œ</a>
            </nav>
        </header>

        <main>
            <!-- ê²°ì œì¡°ê±´ ì„¤ì • -->
            <div class="settings-section">
                <h3>ê²°ì œì¡°ê±´ ê´€ë¦¬</h3>
                <ul class="option-list" id="paymentTermsList">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </ul>
                <div class="add-option-form">
                    <select id="paymentTermsDropdown" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-right: 10px;">
                        <option value="">ê²°ì œì¡°ê±´ ì„ íƒ</option>
                    </select>
                    <input type="text" id="newPaymentTerm" placeholder="ìƒˆ ê²°ì œì¡°ê±´ ì…ë ¥ (ì˜ˆ: 120ì¼)" style="flex: 1; display: none;">
                    <button class="btn btn-primary" onclick="addPaymentTerm()">ì¶”ê°€</button>
                </div>
            </div>

            <!-- ì—…ì¢… ì„¤ì • -->
            <div class="settings-section">
                <h3>ì—…ì¢… ê´€ë¦¬</h3>
                <ul class="option-list" id="businessTypesList">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </ul>
                <div class="add-option-form">
                    <select id="businessTypesDropdown" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-right: 10px;">
                        <option value="">ì—…ì¢… ì„ íƒ</option>
                    </select>
                    <input type="text" id="newBusinessType" placeholder="ìƒˆ ì—…ì¢… ì…ë ¥ (ì˜ˆ: ì„œë¹„ìŠ¤ì—…)" style="flex: 1; display: none;">
                    <button class="btn btn-primary" onclick="addBusinessType()">ì¶”ê°€</button>
                </div>
            </div>

            <!-- ì—…ì²´ ì§€ì—­ ì„¤ì • -->
            <div class="settings-section">
                <h3>ì—…ì²´ ì§€ì—­ ê´€ë¦¬</h3>
                <ul class="option-list" id="regionsList">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </ul>
                <div class="add-option-form">
                    <select id="regionsDropdown" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-right: 10px;">
                        <option value="">ì§€ì—­ ì„ íƒ</option>
                    </select>
                    <input type="text" id="newRegion" placeholder="ìƒˆ ì§€ì—­ ì…ë ¥ (ì˜ˆ: ì§„ì£¼)" style="flex: 1; display: none;">
                    <button class="btn btn-primary" onclick="addRegion()">ì¶”ê°€</button>
                </div>
            </div>

            <!-- ë°©ë¬¸ëª©ì  ì„¤ì • -->
            <div class="settings-section">
                <h3>ë°©ë¬¸ëª©ì  ê´€ë¦¬</h3>
                <ul class="option-list" id="visitPurposesList">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </ul>
                <div class="add-option-form">
                    <select id="visitPurposesDropdown" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-right: 10px;">
                        <option value="">ë°©ë¬¸ëª©ì  ì„ íƒ</option>
                    </select>
                    <input type="text" id="newVisitPurpose" placeholder="ìƒˆ ë°©ë¬¸ëª©ì  ì…ë ¥ (ì˜ˆ: ì œí’ˆì†Œê°œ)" style="flex: 1; display: none;">
                    <button class="btn btn-primary" onclick="addVisitPurpose()">ì¶”ê°€</button>
                </div>
            </div>

            <!-- ìƒ‰ìƒ ì„¤ì • -->
            <div class="settings-section">
                <h3>ìƒ‰ìƒ ê´€ë¦¬</h3>
                <ul class="option-list" id="colorsList">
                    <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </ul>
                <div class="add-option-form">
                    <select id="colorsDropdown" style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; margin-right: 10px;">
                        <option value="">ìƒ‰ìƒ ì„ íƒ</option>
                    </select>
                    <button class="btn btn-primary" onclick="addColor()">ì¶”ê°€</button>
                </div>
                
                <!-- ìƒ‰ìƒ ì§ì ‘ì…ë ¥ ì˜ì—­ -->
                <div id="colorInputArea" class="color-input-area" style="display: none; margin-top: 15px; padding: 20px; background: #f8f9fa; border-radius: 8px; border: 2px solid #e9ecef;">
                    <div class="color-input-header" style="margin-bottom: 15px;">
                        <h4 style="margin: 0; color: #495057; font-size: 16px;">ğŸ¨ ìƒˆë¡œìš´ ìƒ‰ìƒ ì¶”ê°€</h4>
                        <p style="margin: 5px 0 0 0; color: #6c757d; font-size: 14px;">ìƒ‰ìƒ ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì›í•˜ëŠ” ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”</p>
                    </div>
                    
                    <div class="color-input-controls" style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                        <div class="color-name-input" style="flex: 1; min-width: 200px;">
                            <label for="newColorName" style="display: block; margin-bottom: 5px; font-weight: 500; color: #495057;">ìƒ‰ìƒ ì´ë¦„:</label>
                            <input type="text" id="newColorName" placeholder="ì˜ˆ: ì—°í•œ íŒŒë‘, ì§„í•œ ë¹¨ê°•, ê¸ˆìƒ‰" style="width: 100%; padding: 10px; border: 1px solid #ced4da; border-radius: 4px; font-size: 14px;">
                        </div>
                        
                        <div class="color-picker-input" style="text-align: center;">
                            <label for="newColorValue" style="display: block; margin-bottom: 5px; font-weight: 500; color: #495057;">ìƒ‰ìƒ ì„ íƒ:</label>
                            <div class="color-picker-container" style="position: relative;">
                                <input type="color" id="newColorValue" value="#ff69b4" style="width: 80px; height: 40px; border: 2px solid #ced4da; border-radius: 8px; cursor: pointer; background: none;">
                                <div id="colorPreview" style="margin-top: 5px; padding: 5px 10px; background: #ff69b4; color: white; border-radius: 4px; font-size: 12px; text-align: center; min-height: 20px; line-height: 20px;">ë¯¸ë¦¬ë³´ê¸°</div>
                            </div>
                        </div>
                        
                        <div class="color-buttons" style="display: flex; gap: 10px; align-items: end; padding-top: 25px;">
                            <button type="button" onclick="confirmAddColor()" class="btn btn-success" style="padding: 8px 15px;">í™•ì¸</button>
                            <button type="button" onclick="cancelColorInput()" class="btn btn-secondary" style="padding: 8px 15px;">ì·¨ì†Œ</button>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="shared-assets/js/auth.js"></script>
    <script src="dropdown-loader.js"></script>
    <script src="settings.js"></script>
    <script src="debug_settings.js"></script>
</body>
</html>