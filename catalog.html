<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¹´íƒˆë¡œê·¸ - ë‚¨ê²½ìŠ¤í‹¸(ì£¼)</title>
    
    <!-- Favicons -->
    <link href="logo.jpg" rel="icon">
    <link href="logo.jpg" rel="apple-touch-icon">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    
    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    
    <!-- Common Styles -->
    <link href="includes/common-styles.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Supabase JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        /* Page header styling */
        .page-header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 100px 0 60px;
            text-align: center;
            margin-top: 70px;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: white;
        }
        
        .page-header p {
            font-size: 1.2rem;
            opacity: 0.9;
            color: white;
        }
        
        /* Catalog section styling */
        .catalog-section {
            padding: 80px 0;
            background-color: #f8f9fa;
        }
        
        .catalog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 50px;
        }
        
        .catalog-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
            text-align: center;
        }
        
        .catalog-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .catalog-image {
            margin-bottom: 25px;
        }
        
        .catalog-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }
        
        .catalog-icon i {
            font-size: 2.5rem;
            color: white;
        }
        
        .catalog-content h4 {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .catalog-type {
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            display: inline-block;
            margin-bottom: 15px;
        }
        
        .catalog-content p {
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 20px;
        }
        
        .catalog-content ul {
            text-align: left;
            margin-bottom: 25px;
            padding-left: 0;
        }
        
        .catalog-content ul li {
            color: #495057;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .download-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 500;
            display: inline-block;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .download-btn:hover {
            background: linear-gradient(135deg, #2980b9 0%, #1f4e79 100%);
            color: white;
            transform: translateY(-2px);
        }
        
        .file-info {
            color: #6c757d;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        /* Digital section styling */
        .digital-section {
            padding: 80px 0;
            background: white;
        }
        
        .digital-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 40px 25px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
            height: 100%;
        }
        
        .digital-card:hover {
            background: white;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }
        
        .digital-icon {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }
        
        .digital-icon i {
            font-size: 2rem;
            color: white;
        }
        
        .digital-card h4 {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .digital-card p {
            color: #6c757d;
            line-height: 1.6;
            margin-bottom: 25px;
        }
        
        /* Request section styling */
        .request-section {
            padding: 80px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .request-form {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .request-form h3 {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .form-label {
            font-weight: 500;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .form-control {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 12px 15px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus {
            border-color: #3498db;
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .catalog-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .page-header {
                padding: 80px 0 40px;
            }
            
            .catalog-section,
            .digital-section,
            .request-section {
                padding: 60px 0;
            }
        }
        
        /* Footer contact info styling */
        .footer-column:last-child h4 {
            text-align: left;
        }
        
        .footer-column:last-child {
            padding-left: 0;
        }
    </style>
</head>
<body>

    <!-- Header will be loaded by common.js -->
    
    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>ì¹´íƒˆë¡œê·¸</h1>
            <p>ë‚¨ê²½ìŠ¤í‹¸(ì£¼)ì˜ ì œí’ˆ ì •ë³´ì™€ ê¸°ìˆ  ìë£Œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
        </div>
    </div>

    <!-- Catalog Section -->
    <section class="catalog-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2>ì œí’ˆ ì¹´íƒˆë¡œê·¸</h2>
                <p class="lead">ë‹¤ì–‘í•œ ì² ê°• ì œí’ˆì˜ ìƒì„¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤</p>
            </div>
            
            <div class="catalog-grid">
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-fire"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">ì œí’ˆ ì¹´íƒˆë¡œê·¸</div>
                        <h4>ì—´ì—°ê°•íŒ ì¢…í•© ì¹´íƒˆë¡œê·¸</h4>
                        <p>ì—´ì—°ê°•íŒì˜ ê·œê²©, íŠ¹ì„±, ìš©ë„ ë“±ì„ ìƒì„¸íˆ ì†Œê°œí•˜ëŠ” ì¢…í•© ì¹´íƒˆë¡œê·¸ì…ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ ì œí’ˆ ê·œê²© ë° ì¹˜ìˆ˜</li>
                            <li>â€¢ í™”í•™ ì„±ë¶„ ë° ê¸°ê³„ì  ì„±ì§ˆ</li>
                            <li>â€¢ ìš©ë„ë³„ ì ìš© ì‚¬ë¡€</li>
                            <li>â€¢ í’ˆì§ˆ ê´€ë¦¬ ê¸°ì¤€</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('ì—´ì—°ê°•íŒ')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 12.5MB | 24í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-snow"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">ì œí’ˆ ì¹´íƒˆë¡œê·¸</div>
                        <h4>ëƒ‰ì—°ê°•íŒ ì œí’ˆ ê°€ì´ë“œ</h4>
                        <p>ëƒ‰ì—°ê°•íŒì˜ ë‹¤ì–‘í•œ ë“±ê¸‰ê³¼ í‘œë©´ ì²˜ë¦¬ ì˜µì…˜ì— ëŒ€í•œ ìƒì„¸ ê°€ì´ë“œì…ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ ë“±ê¸‰ë³„ íŠ¹ì„± ë¹„êµ</li>
                            <li>â€¢ í‘œë©´ ì²˜ë¦¬ ì¢…ë¥˜</li>
                            <li>â€¢ ê°€ê³µì„± í‰ê°€</li>
                            <li>â€¢ ì ìš© ë¶„ì•¼ë³„ ì¶”ì²œ</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('ëƒ‰ì—°ê°•íŒ')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 8.7MB | 18í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-diamond"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">ì œí’ˆ ì¹´íƒˆë¡œê·¸</div>
                        <h4>íŠ¹ìˆ˜ê°• ì „ë¬¸ ì¹´íƒˆë¡œê·¸</h4>
                        <p>ê³ ê°•ë„, ë‚´ì‹ì„±, ë‚´ì—´ì„± íŠ¹ìˆ˜ê°•ì˜ ì¢…í•©ì ì¸ ê¸°ìˆ  ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ í•©ê¸ˆ ì„±ë¶„ ìƒì„¸ ë¶„ì„</li>
                            <li>â€¢ ì—´ì²˜ë¦¬ ì¡°ê±´</li>
                            <li>â€¢ ê¸°ê³„ì  íŠ¹ì„± ë°ì´í„°</li>
                            <li>â€¢ íŠ¹ìˆ˜ ìš©ë„ ì ìš©</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('íŠ¹ìˆ˜ê°•')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 15.2MB | 32í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-tools"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">ì„œë¹„ìŠ¤ ê°€ì´ë“œ</div>
                        <h4>ê°€ê³µ ì„œë¹„ìŠ¤ ì•ˆë‚´ì„œ</h4>
                        <p>ì ˆë‹¨, ìš©ì ‘, êµ½í˜ ë“± ë‹¤ì–‘í•œ ê°€ê³µ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìƒì„¸ ì•ˆë‚´ì„œì…ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ ê°€ê³µ ì¢…ë¥˜ë³„ ì„¸ë¶€ ì‚¬ì–‘</li>
                            <li>â€¢ ì •ë°€ë„ ë° ê³µì°¨</li>
                            <li>â€¢ ê°€ê³µ ê°€ëŠ¥ ë²”ìœ„</li>
                            <li>â€¢ ë‚©ê¸° ë° ë¹„ìš© ì•ˆë‚´</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('ê°€ê³µì„œë¹„ìŠ¤')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 6.3MB | 16í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-award"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">í’ˆì§ˆ ë³´ì¦</div>
                        <h4>í’ˆì§ˆ ê´€ë¦¬ ë§¤ë‰´ì–¼</h4>
                        <p>ISO ì¸ì¦ í’ˆì§ˆ ê´€ë¦¬ ì‹œìŠ¤í…œê³¼ ê²€ì‚¬ ì ˆì°¨ì— ëŒ€í•œ ìƒì„¸ ë§¤ë‰´ì–¼ì…ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ í’ˆì§ˆ ê´€ë¦¬ ì²´ê³„</li>
                            <li>â€¢ ê²€ì‚¬ ê¸°ì¤€ ë° ë°©ë²•</li>
                            <li>â€¢ ì¸ì¦ì„œ ë° ì‹œí—˜ì„±ì ì„œ</li>
                            <li>â€¢ í’ˆì§ˆ ë³´ì¦ ì •ì±…</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('í’ˆì§ˆê´€ë¦¬')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 4.8MB | 12í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="catalog-card">
                    <div class="catalog-image">
                        <div class="catalog-icon">
                            <i class="bi bi-building"></i>
                        </div>
                    </div>
                    <div class="catalog-content">
                        <div class="catalog-type">íšŒì‚¬ ì†Œê°œ</div>
                        <h4>ë‚¨ê²½ìŠ¤í‹¸ ê¸°ì—… ë¸Œë¡œì…”</h4>
                        <p>íšŒì‚¬ ì—°í˜, ë¹„ì „, ì„¤ë¹„ í˜„í™© ë“±ì„ ë‹´ì€ ì¢…í•© ê¸°ì—… ì†Œê°œ ë¸Œë¡œì…”ì…ë‹ˆë‹¤.</p>
                        <ul class="list-unstyled">
                            <li>â€¢ íšŒì‚¬ ê°œìš” ë° ì—°í˜</li>
                            <li>â€¢ ë¹„ì „ ë° ê²½ì˜ì² í•™</li>
                            <li>â€¢ ìƒì‚° ì„¤ë¹„ í˜„í™©</li>
                            <li>â€¢ ì¸ì¦ ë° ìˆ˜ìƒ ë‚´ì—­</li>
                        </ul>
                        <a href="#" class="download-btn" onclick="downloadCatalog('ê¸°ì—…ë¸Œë¡œì…”')">
                            <i class="bi bi-download"></i> ë‹¤ìš´ë¡œë“œ
                        </a>
                        <div class="file-info">
                            <i class="bi bi-file-pdf"></i>
                            <span>PDF | 9.1MB | 20í˜ì´ì§€</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Digital Catalog Section -->
    <section class="digital-section">
        <div class="container">
            <div class="text-center mb-5">
                <h2>ë””ì§€í„¸ ì¹´íƒˆë¡œê·¸</h2>
                <p class="lead">ì˜¨ë¼ì¸ì—ì„œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì¸í„°ë™í‹°ë¸Œ ì¹´íƒˆë¡œê·¸</p>
            </div>
            
            <div class="row">
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-tablet"></i>
                        </div>
                        <h4>ì˜¨ë¼ì¸ ì¹´íƒˆë¡œê·¸</h4>
                        <p>ì›¹ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì¸í„°ë™í‹°ë¸Œ ì œí’ˆ ì¹´íƒˆë¡œê·¸</p>
                        <a href="#" class="download-btn">ì˜¨ë¼ì¸ ë³´ê¸°</a>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-calculator"></i>
                        </div>
                        <h4>ê·œê²© ê³„ì‚°ê¸°</h4>
                        <p>ì¹˜ìˆ˜ì™€ ë‘ê»˜ë¥¼ ì…ë ¥í•˜ë©´ ì¤‘ëŸ‰ê³¼ ê°€ê²©ì„ ìë™ìœ¼ë¡œ ê³„ì‚°í•´ì£¼ëŠ” ë„êµ¬</p>
                        <a href="#" class="download-btn">ê³„ì‚°ê¸° ì‚¬ìš©</a>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="digital-card">
                        <div class="digital-icon">
                            <i class="bi bi-search"></i>
                        </div>
                        <h4>ì œí’ˆ ê²€ìƒ‰</h4>
                        <p>ìš©ë„ì™€ ì¡°ê±´ì„ ì…ë ¥í•˜ë©´ ìµœì ì˜ ì œí’ˆì„ ì¶”ì²œí•´ì£¼ëŠ” ê²€ìƒ‰ ì‹œìŠ¤í…œ</p>
                        <a href="#" class="download-btn">ì œí’ˆ ì°¾ê¸°</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Request Section -->
    <section class="request-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="request-form">
                        <h3 class="text-center mb-4">ë§ì¶¤ ì¹´íƒˆë¡œê·¸ ìš”ì²­</h3>
                        <p class="text-center mb-4">íŠ¹ì • ì œí’ˆì´ë‚˜ ìš©ë„ì— ë§ëŠ” ë§ì¶¤í˜• ìë£Œê°€ í•„ìš”í•˜ì‹œë©´ ìš”ì²­í•´ì£¼ì„¸ìš”.</p>
                        
                        <form id="catalogRequestForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">íšŒì‚¬ëª… *</label>
                                        <input type="text" class="form-control" name="company" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">ë‹´ë‹¹ìëª… *</label>
                                        <input type="text" class="form-control" name="contact_name" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">ì—°ë½ì²˜ *</label>
                                        <input type="tel" class="form-control" name="phone" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label">ì´ë©”ì¼ *</label>
                                        <input type="email" class="form-control" name="email" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">ê´€ì‹¬ ì œí’ˆ ë¶„ì•¼</label>
                                <select class="form-control" name="product_field">
                                    <option value="">ì„ íƒí•´ì£¼ì„¸ìš”</option>
                                    <option value="ì—´ì—°ê°•íŒ">ì—´ì—°ê°•íŒ</option>
                                    <option value="ëƒ‰ì—°ê°•íŒ">ëƒ‰ì—°ê°•íŒ</option>
                                    <option value="íŠ¹ìˆ˜ê°•">íŠ¹ìˆ˜ê°•</option>
                                    <option value="ê°€ê³µì„œë¹„ìŠ¤">ê°€ê³µì„œë¹„ìŠ¤</option>
                                    <option value="ì „ì²´">ì „ì²´ ì œí’ˆ</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">ìš”ì²­ ì‚¬í•­</label>
                                <textarea class="form-control" name="request_details" rows="4" placeholder="í•„ìš”í•œ ìë£Œë‚˜ íŠ¹ë³„í•œ ìš”êµ¬ì‚¬í•­ì„ ìƒì„¸íˆ ì…ë ¥í•´ì£¼ì„¸ìš”."></textarea>
                            </div>
                            
                            <div class="text-center">
                                <button type="submit" class="download-btn">
                                    <i class="bi bi-send"></i> ìë£Œ ìš”ì²­í•˜ê¸°
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer will be loaded by common.js -->

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- Common JavaScript -->
    <script src="includes/common.js"></script>

    <!-- ë¡œê·¸ì¸/íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="authModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="authModalTitle">ë¡œê·¸ì¸</h2>
          <button class="close-btn" onclick="closeAuthModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <!-- ë¡œê·¸ì¸ í¼ -->
          <div id="loginForm" class="auth-form">
            <div class="form-group">
              <label>ì´ë©”ì¼</label>
              <input type="email" id="loginEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
            
            <div class="form-group">
              <label>ë¹„ë°€ë²ˆí˜¸</label>
              <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
            
            <button type="button" onclick="handleEmailLogin()" class="btn-primary">ë¡œê·¸ì¸</button>
            
            <!-- êµ¬ë¶„ì„  -->
            <div class="divider">
              <span>ë˜ëŠ”</span>
            </div>
            
            <!-- Google ë¡œê·¸ì¸ -->
            <button type="button" onclick="handleGoogleLogin()" class="btn-google">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M17.64 9.205c0-.639-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/>
                  <path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/>
                  <path d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                  <path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/>
                </g>
              </svg>
              Googleë¡œ ë¡œê·¸ì¸
            </button>

            <!-- ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ -->
            <button type="button" onclick="handleKakaoLogin()" class="btn-kakao">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M9 0C4.03 0 0 3.13 0 7c0 2.52 1.67 4.74 4.19 6.04L3.5 16.5c-.13.47.35.85.76.6l3.92-2.65c.28.02.55.05.82.05 4.97 0 9-3.13 9-7S13.97 0 9 0z" fill="#3C1E1E"/>
                </g>
              </svg>
              ì¹´ì¹´ì˜¤ë¡œ ë¡œê·¸ì¸
            </button>
            
            <div class="auth-switch">
              ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? <a href="#" onclick="showRegisterForm()">íšŒì›ê°€ì…</a>
            </div>
          </div>
          
          <!-- íšŒì›ê°€ì… í¼ -->
          <div id="registerForm" class="auth-form" style="display: none;">
            <div class="form-group">
              <label>ì´ë¦„</label>
              <input type="text" id="registerName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
            
            <div class="form-group">
              <label>ì´ë©”ì¼</label>
              <input type="email" id="registerEmail" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
            
            <div class="form-group">
              <label>ë¹„ë°€ë²ˆí˜¸</label>
              <input type="password" id="registerPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ìµœì†Œ 6ì)" required minlength="6">
            </div>
            
            <div class="form-group">
              <label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
              <input type="password" id="confirmPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>
            
            <div class="form-group">
              <label>ë¶€ì„œ (ì„ íƒì‚¬í•­)</label>
              <input type="text" id="registerDepartment" placeholder="ë¶€ì„œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <div class="form-group">
              <label>ì§ì±… (ì„ íƒì‚¬í•­)</label>
              <input type="text" id="registerPosition" placeholder="ì§ì±…ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <button type="button" onclick="handleRegister()" class="btn-primary">íšŒì›ê°€ì…</button>
            
            <div class="auth-switch">
              ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="#" onclick="showLoginForm()">ë¡œê·¸ì¸</a>
            </div>
          </div>
          
          <div id="authStatus" class="status-message" style="display: none;"></div>
        </div>
      </div>
    </div>

    <!-- í”„ë¡œí•„ ëª¨ë‹¬ -->
    <div class="modal" id="profileModal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>í”„ë¡œí•„ ì„¤ì •</h2>
          <button class="close-btn" onclick="hideProfileModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <div class="profile-section">
            <div class="profile-image-section">
              <div class="current-profile-image">
                <img id="modalProfileImage" src="" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" />
              </div>
              <div class="profile-image-upload">
                <input type="file" id="profileImageInput" accept="image/*" style="display: none;" onchange="handleProfileImageUpload(event)">
                <button type="button" onclick="document.getElementById('profileImageInput').click()">ì´ë¯¸ì§€ ë³€ê²½</button>
              </div>
            </div>
            
            <form id="profileForm">
              <div class="form-group">
                <label>ì´ë¦„</label>
                <input type="text" id="profileUserName" readonly>
              </div>
              
              <div class="form-group">
                <label>ì´ë©”ì¼</label>
                <input type="email" id="profileUserEmail" readonly>
              </div>
              
              <div class="form-group">
                <label>ë¶€ì„œ</label>
                <input type="text" id="profileUserDepartment" readonly>
              </div>
              
              <div class="form-group">
                <label>ì§ì±…</label>
                <input type="text" id="profileUserPosition" readonly>
              </div>
            </form>
          </div>
          
          <div class="password-section">
            <h3>ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
            <form id="passwordChangeForm">
              <div class="form-group">
                <label>í˜„ì¬ ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="currentPassword" required>
              </div>
              
              <div class="form-group">
                <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="newPassword" required minlength="6">
              </div>
              
              <div class="form-group">
                <label>ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                <input type="password" id="confirmPassword" required>
              </div>
              
              <button type="submit" class="btn-change-password">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
            </form>
          </div>
        </div>
        
        <div class="modal-footer">
          <button onclick="logout()" class="btn-logout">ë¡œê·¸ì•„ì›ƒ</button>
          <button onclick="hideProfileModal()" class="btn-close">ë‹«ê¸°</button>
        </div>
      </div>
    </div>

    <style>
      /* í”„ë¡œí•„ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      
      .modal-content {
        background: white;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        max-height: 80%;
        overflow-y: auto;
      }
      
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid #eee;
      }
      
      .modal-header h2 {
        margin: 0;
        color: #333;
      }
      
      .close-btn {
        background: none;
        border: none;
        font-size: 24px;
        color: #999;
        cursor: pointer;
        position: absolute;
        right: 20px;
        top: 20px;
        padding: 5px;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.3s ease;
        z-index: 1001;
      }
      
      .close-btn:hover {
        color: #333;
      }
      
      .modal-body {
        padding: 20px;
      }
      
      .profile-image-section {
        text-align: center;
        margin-bottom: 30px;
      }
      
      .current-profile-image img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #667eea;
        margin-bottom: 15px;
      }
      
      .profile-image-upload button {
        background: #667eea;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
      }
      
      .form-group {
        margin-bottom: 15px;
      }
      
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #333;
      }
      
      .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
      }
      
      .form-group input[readonly] {
        background: #f5f5f5;
      }
      
      .password-section {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
      }
      
      .password-section h3 {
        margin-bottom: 20px;
        color: #333;
      }
      
      .btn-change-password {
        width: 100%;
        background: #28a745;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
      }
      
      .btn-change-password:hover {
        background: #218838;
      }
      
      .modal-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-top: 1px solid #eee;
        gap: 10px;
      }
      
      .btn-logout {
        background: #dc3545;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-logout:hover {
        background: #c82333;
      }
      
      .btn-close {
        background: #6c757d;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: background-color 0.3s ease;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-close:hover {
        background: #545b62;
      }
    
        /* Footer styles already defined in main CSS block above */
    </style>

    <!-- Vendor JS Files from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

    <!-- Supabase ë° ë¡œê·¸ì¸ ê¸°ëŠ¥ -->
    <script>
      // Supabase ì„¤ì •
      const SUPABASE_URL = 'https://zgyawfmjconubxaiamod.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpneWF3Zm1qY29udWJ4YWlhbW9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjQzNzIsImV4cCI6MjA2NzM0MDM3Mn0.shjBE2OQeILwkLLi4E6Bq0-b6YPUs-WFwquexdUiM9A';
      
      // Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
      let supabaseClient = null;
      
      try {
        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
          auth: {
            persistSession: true,
            detectSessionInUrl: true,
            autoRefreshToken: true
          }
        });
        console.log('âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ');
      } catch (error) {
        console.error('âŒ Supabase ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
      }
      
      // ìƒíƒœ í‘œì‹œ í•¨ìˆ˜
      function showStatus(message, type = 'info') {
        const status = document.getElementById('authStatus');
        status.style.display = 'block';
        status.className = `status-message status-${type}`;
        status.textContent = message;
        
        console.log(`${type.toUpperCase()}: ${message}`);
      }
      
      // ì¸ì¦ ëª¨ë‹¬ ì—´ê¸° (ë¡œê·¸ì¸ í¼)
      function showLoginModal() {
        console.log('ğŸ” ë¡œê·¸ì¸ ëª¨ë‹¬ ì—´ê¸°');
        document.getElementById('authModal').style.display = 'flex';
        showLoginForm();
      }
      
      // ì¸ì¦ ëª¨ë‹¬ ë‹«ê¸°
      function closeAuthModal() {
        console.log('âŒ ì¸ì¦ ëª¨ë‹¬ ë‹«ê¸°');
        document.getElementById('authModal').style.display = 'none';
        clearAuthForms();
      }
      
      // ë¡œê·¸ì¸ í¼ í‘œì‹œ
      function showLoginForm() {
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';
        document.getElementById('authModalTitle').textContent = 'ë¡œê·¸ì¸';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // íšŒì›ê°€ì… í¼ í‘œì‹œ
      function showRegisterForm() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('registerForm').style.display = 'block';
        document.getElementById('authModalTitle').textContent = 'íšŒì›ê°€ì…';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // í¼ ì´ˆê¸°í™”
      function clearAuthForms() {
        document.getElementById('loginEmail').value = '';
        document.getElementById('loginPassword').value = '';
        document.getElementById('registerName').value = '';
        document.getElementById('registerEmail').value = '';
        document.getElementById('registerPassword').value = '';
        document.getElementById('confirmPassword').value = '';
        document.getElementById('registerDepartment').value = '';
        document.getElementById('registerPosition').value = '';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // ì´ë©”ì¼ ë¡œê·¸ì¸
      async function handleEmailLogin() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        if (!email || !password) {
          showStatus('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.', 'error');
          return;
        }
        
        showStatus('ë¡œê·¸ì¸ ì¤‘...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithPassword({
            email: email,
            password: password
          });
          
          if (error) {
            showStatus('ë¡œê·¸ì¸ ì‹¤íŒ¨: ' + error.message, 'error');
          } else {
            showStatus('ë¡œê·¸ì¸ ì„±ê³µ!', 'success');
            console.log('ì‚¬ìš©ì ì •ë³´:', data.user);
            
            const user = {
              id: data.user.id,
              email: data.user.email,
              name: data.user.user_metadata?.name || data.user.email,
              profileImage: data.user.user_metadata?.avatar_url,
              provider: 'email'
            };
            
            saveUserAndUpdateUI(user);
            closeAuthModal();
            
            setTimeout(() => {
              window.location.href = 'employee-dashboard.html';
            }, 1000);
          }
        } catch (error) {
          showStatus('ë¡œê·¸ì¸ ì˜¤ë¥˜: ' + error.message, 'error');
        }
      }
      
      // íšŒì›ê°€ì…
      async function handleRegister() {
        const name = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const department = document.getElementById('registerDepartment').value;
        const position = document.getElementById('registerPosition').value;
        
        if (!name || !email || !password) {
          showStatus('ì´ë¦„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ëŠ” í•„ìˆ˜ ì…ë ¥ í•­ëª©ì…ë‹ˆë‹¤.', 'error');
          return;
        }
        
        if (password !== confirmPassword) {
          showStatus('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
          return;
        }
        
        if (password.length < 6) {
          showStatus('ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.', 'error');
          return;
        }
        
        showStatus('íšŒì›ê°€ì… ì¤‘...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signUp({
            email: email,
            password: password,
            options: {
              data: {
                name: name,
                department: department,
                position: position,
                company_domain: 'namkyungsteel.com',
                company_name: 'ë‚¨ê²½ìŠ¤í‹¸(ì£¼)'
              }
            }
          });
          
          if (error) {
            showStatus('íšŒì›ê°€ì… ì‹¤íŒ¨: ' + error.message, 'error');
          } else {
            console.log('Supabase Auth íšŒì›ê°€ì… ì„±ê³µ:', data);
            
            try {
              if (data.user) {
                const { data: insertData, error: insertError } = await supabaseClient
                  .from('users')
                  .insert([
                    {
                      id: data.user.id,
                      email: email,
                      name: name,
                      department: department || '',
                      position: position || '',
                      company_domain: 'namkyungsteel.com',
                      company_name: 'ë‚¨ê²½ìŠ¤í‹¸(ì£¼)',
                      role: 'employee',
                      created_at: new Date().toISOString()
                    }
                  ]);
                
                if (insertError) {
                  console.error('âŒ users í…Œì´ë¸” ì €ì¥ ì˜¤ë¥˜:', insertError);
                  showStatus('íšŒì›ê°€ì…ì€ ì„±ê³µí–ˆì§€ë§Œ ì‚¬ìš©ì ì •ë³´ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.', 'error');
                } else {
                  console.log('âœ… users í…Œì´ë¸”ì— ì‚¬ìš©ì ì •ë³´ ì €ì¥ ì™„ë£Œ:', insertData);
                  showStatus('íšŒì›ê°€ì… ì„±ê³µ! ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.', 'success');
                }
              }
            } catch (tableError) {
              console.error('âŒ users í…Œì´ë¸” ì €ì¥ ì˜ˆì™¸:', tableError);
            }
            
            if (data.user && data.session) {
              const user = {
                id: data.user.id,
                email: data.user.email,
                name: name,
                department: department,
                position: position,
                provider: 'email'
              };
              
              saveUserAndUpdateUI(user);
              closeAuthModal();
              
              setTimeout(() => {
                window.location.href = 'employee-dashboard.html';
              }, 1000);
            }
          }
        } catch (error) {
          showStatus('íšŒì›ê°€ì… ì˜¤ë¥˜: ' + error.message, 'error');
        }
      }
      
      // ì‚¬ìš©ì ì •ë³´ ì €ì¥ ë° UI ì—…ë°ì´íŠ¸
      function saveUserAndUpdateUI(user) {
        sessionStorage.setItem('currentUser', JSON.stringify(user));
        updateUIForLoggedInUser(user);
        console.log('âœ… ì‚¬ìš©ì ì •ë³´ ì €ì¥ ë° UI ì—…ë°ì´íŠ¸ ì™„ë£Œ:', user);
      }
      
      // ë¡œê·¸ì¸ëœ ì‚¬ìš©ììš© UI ì—…ë°ì´íŠ¸
      function updateUIForLoggedInUser(user) {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'none';
          userProfile.style.display = 'flex';
          
          const profileImage = document.getElementById('profileImage');
          if (user.profileImage) {
            profileImage.src = user.profileImage;
          }
          
          const profileName = document.getElementById('profileName');
          if (profileName) {
            profileName.textContent = user.name;
          }
        }
      }
      
      // ë¡œê·¸ì•„ì›ƒëœ ìƒíƒœìš© UI ì—…ë°ì´íŠ¸
      function updateUIForLoggedOutUser() {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'flex';
          userProfile.style.display = 'none';
        }
      }
      
      // ë¡œê·¸ì•„ì›ƒ
      function logout() {
        sessionStorage.removeItem('currentUser');
        updateUIForLoggedOutUser();
        console.log('ğŸšª ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ');
        
        hideProfileModal();
        
        setTimeout(() => {
          window.location.href = '/index.html';
        }, 100);
      }
      
      // Google ë¡œê·¸ì¸
      async function handleGoogleLogin() {
        console.log('ğŸ” Google ë¡œê·¸ì¸ ì‹œì‘');
        showStatus('Google ë¡œê·¸ì¸ ì¤‘...', 'info');
        
        if (!supabaseClient) {
          showStatus('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'google',
            options: {
              redirectTo: 'https://namkyungsteel.com'
            }
          });
          
          if (error) {
            console.error('âŒ Google ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
            showStatus('Google ë¡œê·¸ì¸ ì˜¤ë¥˜: ' + error.message, 'error');
          } else {
            console.log('âœ… Google OAuth ì‹œì‘ë¨:', data);
            showStatus('Google ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤...', 'success');
          }
        } catch (error) {
          console.error('âŒ Google ë¡œê·¸ì¸ ì˜ˆì™¸:', error);
          showStatus('Google ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
        }
      }

      // ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
      async function handleKakaoLogin() {
        console.log('ğŸ” Kakao ë¡œê·¸ì¸ ì‹œì‘');
        showStatus('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì¤‘...', 'info');
        
        if (!supabaseClient) {
          showStatus('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'kakao',
            options: {
              redirectTo: 'https://namkyungsteel.com',
              scopes: 'profile_nickname profile_image account_email'
            }
          });
          
          if (error) {
            console.error('âŒ Kakao ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
            showStatus('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì˜¤ë¥˜: ' + error.message, 'error');
          } else {
            console.log('âœ… Kakao OAuth ì‹œì‘ë¨:', data);
            showStatus('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤...', 'success');
          }
        } catch (error) {
          console.error('âŒ Kakao ë¡œê·¸ì¸ ì˜ˆì™¸:', error);
          showStatus('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message, 'error');
        }
      }
      
      // OAuth ì½œë°± ì²˜ë¦¬
      async function handleOAuthCallback() {
        const urlParams = new URLSearchParams(window.location.search);
        const hashParams = new URLSearchParams(window.location.hash.substring(1));
        
        if (urlParams.get('code') || hashParams.get('access_token') || window.location.hash.includes('access_token')) {
          console.log('ğŸ” OAuth ì½œë°± ê°ì§€ë¨');
          
          try {
            const { data: { session }, error } = await supabaseClient.auth.getSession();
            
            if (error && !error.message.includes('skew')) {
              console.error('âŒ ì„¸ì…˜ í™•ì¸ ì˜¤ë¥˜:', error);
              return;
            }
            
            if (session && session.user) {
              console.log('âœ… OAuth ë¡œê·¸ì¸ ì„±ê³µ:', session.user);
              
              const actualProvider = session.user.app_metadata?.provider || 'unknown';
              const user = {
                id: session.user.id,
                email: session.user.email,
                name: session.user.user_metadata?.name || session.user.user_metadata?.full_name || session.user.email,
                profileImage: session.user.user_metadata?.avatar_url || session.user.user_metadata?.picture,
                provider: actualProvider
              };
              
              try {
                const { data: existingUser, error: selectError } = await supabaseClient
                  .from('users')
                  .select('id')
                  .eq('id', user.id)
                  .single();
                
                if (!existingUser) {
                  const { data: insertData, error: insertError } = await supabaseClient
                    .from('users')
                    .insert([
                      {
                        id: user.id,
                        email: user.email,
                        name: user.name,
                        company_domain: 'namkyungsteel.com',
                        company_name: 'ë‚¨ê²½ìŠ¤í‹¸(ì£¼)',
                        role: null,
                        provider: actualProvider,
                        is_approved: false,
                        is_active: true,
                        created_at: new Date().toISOString()
                      }
                    ]);
                  
                  if (insertError) {
                    console.error('âŒ Google ì‚¬ìš©ì ì €ì¥ ì˜¤ë¥˜:', insertError);
                  } else {
                    console.log('âœ… Google ì‚¬ìš©ì ì •ë³´ ì €ì¥ ì™„ë£Œ:', insertData);
                  }
                }
              } catch (tableError) {
                console.error('âŒ Google ì‚¬ìš©ì í…Œì´ë¸” ì²˜ë¦¬ ì˜ˆì™¸:', tableError);
              }
              
              saveUserAndUpdateUI(user);
              window.history.replaceState({}, document.title, window.location.pathname);
              
              const provider = user.provider || 'OAuth';
              let providerName = '';
              if (provider === 'google') {
                  providerName = 'Google';
              } else if (provider === 'kakao') {
                  providerName = 'ì¹´ì¹´ì˜¤';
              } else {
                  providerName = 'ì†Œì…œ';
              }
              
              alert(`${providerName} ë¡œê·¸ì¸ ì„±ê³µ! í™˜ì˜í•©ë‹ˆë‹¤, ${user.name}`);
              window.location.href = 'employee-dashboard.html';
            }
          } catch (error) {
            if (!error.message.includes('skew')) {
              console.error('âŒ OAuth ì½œë°± ì²˜ë¦¬ ì˜¤ë¥˜:', error);
            }
          }
        }
      }
      
      // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‚¬ìš©ì ìƒíƒœ í™•ì¸ ë° OAuth ì½œë°± ì²˜ë¦¬
      document.addEventListener('DOMContentLoaded', function() {
        console.log('ğŸ“„ í˜ì´ì§€ ë¡œë“œë¨');
        checkAndRestoreUserSession();
        handleOAuthCallback();
      });
      
      // ì €ì¥ëœ ì‚¬ìš©ì ì„¸ì…˜ í™•ì¸ ë° ë³µì›
      function checkAndRestoreUserSession() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            console.log('âœ… ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ ë³µì›:', user);
            updateUIForLoggedInUser(user);
          } catch (error) {
            console.error('âŒ ì‚¬ìš©ì ì •ë³´ íŒŒì‹± ì˜¤ë¥˜:', error);
            sessionStorage.removeItem('currentUser');
            updateUIForLoggedOutUser();
          }
        } else {
          console.log('â„¹ï¸ ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ ì—†ìŒ');
          updateUIForLoggedOutUser();
        }
      }
      
      // í”„ë¡œí•„ í´ë¦­ í•¸ë“¤ëŸ¬
      function handleProfileClick() {
        showProfileModal();
      }
      
      // ê¸°ë³¸ ì•„ë°”íƒ€ ìƒì„± í•¨ìˆ˜
      function generateDefaultAvatar(name) {
        return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+';
      }

      // í”„ë¡œí•„ ëª¨ë‹¬ í‘œì‹œ
      function showProfileModal() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (user.profileImage) {
              modalProfileImage.src = user.profileImage;
            } else {
              modalProfileImage.src = generateDefaultAvatar(user.name || user.email);
            }
            
            document.getElementById('profileUserName').value = user.name || '';
            document.getElementById('profileUserEmail').value = user.email || '';
            document.getElementById('profileUserDepartment').value = user.department || '';
            document.getElementById('profileUserPosition').value = user.position || '';
            
            document.getElementById('profileModal').style.display = 'flex';
          } catch (error) {
            console.error('âŒ ì‚¬ìš©ì ì •ë³´ ë¡œë“œ ì˜¤ë¥˜:', error);
          }
        }
      }
      
      // í”„ë¡œí•„ ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
      function hideProfileModal() {
        document.getElementById('profileModal').style.display = 'none';
      }
      
      // í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ
      async function handleProfileImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        if (file.size > 2 * 1024 * 1024) {
          alert('ì´ë¯¸ì§€ í¬ê¸°ëŠ” 2MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.');
          return;
        }
        
        if (!file.type.startsWith('image/')) {
          alert('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
          return;
        }
        
        const reader = new FileReader();
        reader.onload = async function(e) {
          const imageData = e.target.result;
          
          try {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            
            if (supabaseClient) {
              try {
                const { data, error } = await supabaseClient
                  .from('users')
                  .update({ 
                    profile_image: imageData,
                    updated_at: new Date().toISOString()
                  })
                  .eq('email', currentUser.email)
                  .select();
                  
                if (error) {
                  console.error('ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
                } else {
                  console.log('í”„ë¡œí•„ ì´ë¯¸ì§€ ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸ ì™„ë£Œ');
                }
              } catch (dbError) {
                console.error('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì˜¤ë¥˜:', dbError);
              }
            }
            
            currentUser.profileImage = imageData;
            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (modalProfileImage) modalProfileImage.src = imageData;
            
            const headerProfileImage = document.getElementById('profileImage');
            if (headerProfileImage) headerProfileImage.src = imageData;
            
            alert('í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
          } catch (error) {
            console.error('ì´ë¯¸ì§€ ì—…ë¡œë“œ ì˜¤ë¥˜:', error);
            alert('ì´ë¯¸ì§€ ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
          }
        };
        
        reader.readAsDataURL(file);
      }
      
      window.testGoogleLogin = handleGoogleLogin;
      window.testSupabase = function() {
        console.log('Supabase í´ë¼ì´ì–¸íŠ¸:', supabaseClient);
        return supabaseClient !== null;
      };
    </script>
</body>
</html>