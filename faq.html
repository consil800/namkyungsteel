<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - 남경스틸(주)</title>
    
    <!-- Favicons -->
    <link href="logo.jpg" rel="icon">
    <link href="logo.jpg" rel="apple-touch-icon">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    
    <!-- Supabase JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    
    <style>
        /* 인증 모달 스타일 */
        .auth-form .form-group {
          margin-bottom: 20px;
        }
        
        .auth-form label {
          display: block;
          margin-bottom: 8px;
          font-weight: 500;
          color: #333;
        }
        
        .auth-form input {
          width: 100%;
          padding: 12px;
          border: 1px solid #ddd;
          border-radius: 8px;
          font-size: 16px;
          transition: border-color 0.3s;
          box-sizing: border-box;
        }
        
        .auth-form input:focus {
          outline: none;
          border-color: #0066cc;
          box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }
        
        .btn-primary {
          width: 100%;
          padding: 12px;
          background: #0066cc;
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: 500;
          cursor: pointer;
          transition: background-color 0.3s;
          margin: 20px 0 15px 0;
        }
        
        .btn-primary:hover {
          background: #0052a3;
        }
        
        .btn-google {
          width: 100%;
          padding: 12px 20px;
          border: 1px solid #dadce0;
          border-radius: 8px;
          background: white;
          color: #3c4043;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          margin: 10px 0 20px 0;
          font-size: 16px;
          transition: all 0.3s;
        }
        
        .btn-google:hover {
          background: #f8f9fa;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .btn-kakao {
          width: 100%;
          padding: 12px 20px;
          border: 1px solid #FEE500;
          border-radius: 8px;
          background: #FEE500;
          color: #3C1E1E;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
          margin: 10px 0 20px 0;
          font-size: 16px;
          font-weight: 500;
          transition: all 0.3s;
        }

        .btn-kakao:hover {
          background: #FDD835;
          border-color: #FDD835;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .divider {
          text-align: center;
          margin: 25px 0;
          position: relative;
        }
        
        .divider::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 0;
          right: 0;
          height: 1px;
          background: #ddd;
        }
        
        .divider span {
          background: white;
          padding: 0 15px;
          color: #666;
          font-size: 14px;
        }
        
        .auth-switch {
          text-align: center;
          margin-top: 20px;
          color: #666;
        }
        
        .auth-switch a {
          color: #0066cc;
          text-decoration: none;
          font-weight: 500;
        }
        
        .auth-switch a:hover {
          text-decoration: underline;
        }
        
        .status-message {
          margin-top: 15px;
          padding: 12px;
          border-radius: 8px;
          text-align: center;
          font-weight: 500;
        }
        
        .status-success {
          background: #e8f5e8;
          color: #2e7d32;
          border: 1px solid #4caf50;
        }
        
        .status-error {
          background: #ffebee;
          color: #c62828;
          border: 1px solid #f44336;
        }
        
        .status-info {
          background: #e3f2fd;
          color: #1565c0;
          border: 1px solid #2196f3;
        }
        
        /* 로그인 후 사용자 프로필 영역 */
        .user-profile {
          display: flex;
          align-items: center;
          gap: 10px;
          cursor: pointer;
          padding: 8px 12px;
          border-radius: 8px;
          transition: background-color 0.3s;
        }
        
        .user-profile:hover {
          background: rgba(0, 102, 204, 0.1);
        }
        
        .user-profile img {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          object-fit: cover;
        }
        
        .user-profile .profile-name {
          font-weight: 500;
          color: #333;
        }
        
        .login-btn { 
          background: #0066cc; 
          color: white; 
          padding: 8px 20px; 
          border-radius: 5px; 
          margin-left: 25px;
          text-decoration: none;
          transition: all 0.3s;
        }
        .login-btn:hover { 
          background: #0052a3; 
          color: white;
        }
        
        /* 사용자 프로필 스타일 */
        .user-profile {
          margin-left: 25px;
        }
        
        .profile-icon {
          display: flex;
          align-items: center;
          cursor: pointer;
          transition: all 0.3s ease;
          padding: 5px 10px;
          border-radius: 25px;
        }
        
        .profile-icon:hover {
          background: rgba(255, 255, 255, 0.1);
        }
        
        .profile-icon img {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #fff;
          margin-right: 8px;
        }
        
        .profile-name {
          color: #2c3e50;
          font-weight: 500;
          font-size: 14px;
        }
        
        body { font-family: 'Noto Sans KR', sans-serif !important; }
        
        /* Navigation Dropdown Styles */
        .navmenu ul {
            display: flex;
            align-items: center;
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .navmenu > ul > li {
            white-space: nowrap;
            padding: 15px 16px;
            position: relative;
        }
        
        .navmenu a {
            color: #2c3e50;
            padding: 12px 0;
            font-size: 16px;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: space-between;
            white-space: nowrap;
            transition: 0.3s;
            text-decoration: none;
        }
        
        .navmenu .dropdown ul {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 99;
            background-color: #ffffff;
            box-shadow: 0px 0px 30px rgba(44, 62, 80, 0.15);
            padding: 10px 0;
            border-radius: 6px;
            min-width: 180px;
            flex-direction: column;
        }
        
        .navmenu .dropdown:hover > ul {
            display: flex;
        }
        
        .navmenu .dropdown ul li {
            padding: 0;
            width: 100%;
        }
        
        .navmenu .dropdown ul a {
            padding: 10px 20px;
            font-size: 15px;
            color: #2c3e50;
            border: none;
            width: 100%;
            justify-content: flex-start;
        }
        
        .navmenu .dropdown ul a:hover {
            color: #3498db;
            background-color: #f8f9fa;
        }
        
        .toggle-dropdown {
            margin-left: 5px;
        }
        
        @media (max-width: 1199px) {
            .navmenu .dropdown ul {
                position: static;
                display: none;
                z-index: 99;
                padding: 10px 0;
                margin: 10px 20px;
                background-color: #ffffff;
                border: 1px solid #e9ecef;
                box-shadow: none;
                border-radius: 6px;
            }
            
            .navmenu .dropdown.active > ul {
                display: flex;
            }
        }
        
        /* Footer Styles from namkyungst/index.html */
        .footer {
            background-color: #2d3748;
            color: #ffffff;
            border-top: 3px solid #0066cc;
        }
        
        .footer-top {
            padding: 30px 0 20px;
        }
        
        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
        }
        
        .footer-column h3,
        .footer-column h4 {
            margin-bottom: 20px;
            color: #ffffff;
            font-weight: 600;
        }
        
        .footer-column ul {
            list-style: none;
            padding: 0;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column a {
            color: #cbd5e0;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        
        .footer-column a:hover {
            color: #0066cc;
        }
        
        .footer-column p {
            color: #a0aec0;
            line-height: 1.6;
        }
        
        .contact-info li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
            color: #cbd5e0;
        }
        
        .contact-info i {
            margin-top: 4px;
            color: #0066cc;
        }
        
        .footer-bottom {
            background-color: #1a202c;
            padding: 20px 0;
        }
        
        .bottom-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .bottom-content p {
            color: #a0aec0;
            margin: 0;
        }
        
        .footer-links {
            display: flex;
            gap: 20px;
        }
        
        .footer-links a {
            color: #a0aec0;
            font-size: 14px;
            text-decoration: none;
        }
        
        .footer-links a:hover {
            color: #0066cc;
        }
        
        @media (max-width: 768px) {
            .bottom-content {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .footer-grid {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .contact-info {
                text-align: left;
            }
        }
        
        .page-header {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('namkyung.png');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
        }
        
        .faq-section {
            padding: 80px 0;
        }
        
        .faq-categories {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 50px;
            flex-wrap: wrap;
        }
        
        .category-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            color: #2c3e50;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .category-btn.active,
        .category-btn:hover {
            background: linear-gradient(45deg, #0066cc, #004499);
            border-color: #0066cc;
            color: white;
        }
        
        .faq-item {
            background: white;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-item:hover {
            box-shadow: 0 10px 25px rgba(0, 102, 204, 0.15);
        }
        
        .faq-question {
            padding: 25px 30px;
            background: #f8f9fa;
            border: none;
            width: 100%;
            text-align: left;
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .faq-question:hover {
            background: #e9ecef;
        }
        
        .faq-question.active {
            background: linear-gradient(45deg, #0066cc, #004499);
            color: white;
        }
        
        .faq-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #0066cc;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 12px;
            flex-shrink: 0;
        }
        
        .faq-question.active .faq-icon {
            background: white;
            color: #0066cc;
        }
        
        .faq-toggle {
            font-size: 18px;
            transition: transform 0.3s ease;
        }
        
        .faq-question.active .faq-toggle {
            transform: rotate(180deg);
        }
        
        .faq-answer {
            padding: 0 30px;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-answer.active {
            padding: 30px;
            max-height: 500px;
        }
        
        .faq-answer p {
            margin-bottom: 15px;
            line-height: 1.6;
            color: #4a5568;
        }
        
        .faq-answer ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .faq-answer li {
            margin-bottom: 8px;
            color: #4a5568;
        }
        
        .search-section {
            background: #f8f9fa;
            padding: 60px 0;
            margin-bottom: 50px;
        }
        
        .search-box {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }
        
        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .search-input:focus {
            border-color: #0066cc;
            box-shadow: 0 0 0 0.2rem rgba(0, 102, 204, 0.15);
            outline: none;
        }
        
        .search-btn {
            position: absolute;
            right: 5px;
            top: 5px;
            background: linear-gradient(45deg, #0066cc, #004499);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .search-btn:hover {
            transform: scale(1.1);
        }
        
        .contact-cta {
            background: linear-gradient(135deg, #0066cc, #004499);
            color: white;
            padding: 60px 0;
            text-align: center;
        }
        
        .cta-btn {
            background: white;
            color: #0066cc;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            margin: 0 10px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            color: #0066cc;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header id="header" class="header d-flex align-items-center sticky-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center">
            <a href="index.html" class="logo d-flex align-items-center me-auto">
                <img src="logo.jpg" alt="남경스틸 로고" style="height: 40px; margin-right: 10px;">
                <h1 class="sitename">남경스틸(주)</h1>
            </a>
            
            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a href="index.html">홈</a></li>
                    <li class="dropdown"><a href="index.html#about"><span>회사소개</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="ceo-message.html">CEO 인사말</a></li>
                            <li><a href="company-history.html">회사연혁</a></li>
                            <li><a href="vision-mission.html">비전/미션</a></li>
                            <li><a href="organization.html">조직도</a></li>
                            <li><a href="certificates.html">인증서</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="index.html#services"><span>제품소개</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="service1-details.html">열연강판</a></li>
                            <li><a href="service2-details.html">냉연강판</a></li>
                            <li><a href="service3-details.html">특수강</a></li>
                            <li><a href="service4-details.html">맞춤 가공</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"><span>사업영역</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="steel-manufacturing.html">철강제조</a></li>
                            <li><a href="processing-service.html">가공서비스</a></li>
                            <li><a href="tech-research.html">기술연구</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"><span>고객센터</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="quote-inquiry.html">견적문의</a></li>
                            <li><a href="catalog.html">카탈로그</a></li>
                            <li><a href="faq.html">FAQ</a></li>
                            <li><a href="location.html">오시는길</a></li>
                            <li><a href="product-inquiry.html">제품문의</a></li>
                            <li><a href="technical-support.html">기술지원</a></li>
                        </ul>
                    </li>
                    <li class="dropdown"><a href="#"><span>홍보센터</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="notice.html">공지사항</a></li>
                            <li><a href="newsroom.html">뉴스룸</a></li>
                            <li><a href="media-materials.html">홍보자료</a></li>
                        </ul>
                    </li>
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>

            <!-- 로그인 버튼 -->
            <a class="login-btn" href="#" onclick="showLoginModal(); return false;" id="mainLoginBtn">
              <i class="bi bi-person-circle"></i> <span id="loginBtnText">로그인</span>
            </a>
            
            <!-- 로그인 후 프로필 아이콘 -->
            <div class="user-profile" id="userProfile" style="display: none;">
              <div class="profile-icon" onclick="handleProfileClick()">
                <img id="profileImage" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+" alt="프로필" />
                <span class="profile-name" id="profileName">사용자</span>
              </div>
            </div>

        </div>
    </header>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h1>자주 묻는 질문</h1>
            <p>고객님들께서 자주 문의하시는 내용을 정리했습니다</p>
        </div>
    </div>

    <!-- Search Section -->
    <section class="search-section">
        <div class="container">
            <div class="search-box">
                <input type="text" class="search-input" id="faqSearch" placeholder="궁금한 내용을 검색해보세요...">
                <button class="search-btn" onclick="searchFAQ()">
                    <i class="bi bi-search"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <!-- Category Buttons -->
            <div class="faq-categories">
                <button class="category-btn active" onclick="filterFAQ('all')">전체</button>
                <button class="category-btn" onclick="filterFAQ('product')">제품</button>
                <button class="category-btn" onclick="filterFAQ('order')">주문/배송</button>
                <button class="category-btn" onclick="filterFAQ('quality')">품질/기술</button>
                <button class="category-btn" onclick="filterFAQ('service')">서비스</button>
                <button class="category-btn" onclick="filterFAQ('payment')">결제/계약</button>
            </div>

            <!-- FAQ Items -->
            <div class="faq-list">
                <!-- Product Category -->
                <div class="faq-item" data-category="product">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>어떤 종류의 철강 제품을 제조하나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>남경스틸(주)에서는 다음과 같은 철강 제품을 제조합니다:</p>
                        <ul>
                            <li><strong>열연강판</strong>: 일반구조용, 용접구조용, 고장력강 등</li>
                            <li><strong>냉연강판</strong>: 일반용, 깊은 그림용, 구조용 등</li>
                            <li><strong>특수강</strong>: 스테인리스강, 내열강, 내식강 등</li>
                            <li><strong>맞춤 가공</strong>: 절단, 용접, 굽힘 등 각종 가공 서비스</li>
                        </ul>
                        <p>각 제품별로 다양한 규격과 등급을 보유하고 있으며, 고객 요구에 맞는 맞춤 제작도 가능합니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="product">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>제품 규격은 어떻게 확인할 수 있나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>제품 규격은 다음과 같은 방법으로 확인하실 수 있습니다:</p>
                        <ul>
                            <li><strong>카탈로그</strong>: 홈페이지에서 제품별 상세 카탈로그를 다운로드</li>
                            <li><strong>제품 문의</strong>: 고객센터를 통한 직접 문의</li>
                            <li><strong>기술 상담</strong>: 전문 기술진과의 1:1 상담</li>
                            <li><strong>견적 요청</strong>: 구체적인 규격과 함께 견적 요청</li>
                        </ul>
                        <p>특수 규격이나 맞춤 제작의 경우, 도면이나 사양서를 제공해주시면 더 정확한 상담이 가능합니다.</p>
                    </div>
                </div>

                <!-- Order Category -->
                <div class="faq-item" data-category="order">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>주문은 어떻게 하나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>주문 과정은 다음과 같습니다:</p>
                        <ul>
                            <li><strong>1단계</strong>: 견적 요청 (온라인 또는 전화)</li>
                            <li><strong>2단계</strong>: 견적서 검토 및 승인</li>
                            <li><strong>3단계</strong>: 정식 주문서 작성</li>
                            <li><strong>4단계</strong>: 계약 체결 및 선금 결제</li>
                            <li><strong>5단계</strong>: 생산 및 품질 검사</li>
                            <li><strong>6단계</strong>: 납품 및 잔금 결제</li>
                        </ul>
                        <p>긴급 주문의 경우 전화(051-314-9701)로 연락주시면 우선 처리해드립니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="order">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>최소 주문 수량이 있나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>제품별 최소 주문 수량은 다음과 같습니다:</p>
                        <ul>
                            <li><strong>열연강판</strong>: 5톤 이상</li>
                            <li><strong>냉연강판</strong>: 3톤 이상</li>
                            <li><strong>특수강</strong>: 1톤 이상</li>
                            <li><strong>가공 서비스</strong>: 제품에 따라 상이</li>
                        </ul>
                        <p>소량 주문의 경우에도 상담을 통해 공급 가능 여부를 확인해드리며, 
                        정기 거래 고객의 경우 최소 주문 수량을 조정해드릴 수 있습니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="order">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>납기는 얼마나 걸리나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>일반적인 납기는 다음과 같습니다:</p>
                        <ul>
                            <li><strong>재고 제품</strong>: 주문 후 3-5일</li>
                            <li><strong>일반 생산</strong>: 주문 후 7-14일</li>
                            <li><strong>특수 제작</strong>: 주문 후 14-21일</li>
                            <li><strong>대량 주문</strong>: 별도 협의</li>
                        </ul>
                        <p>정확한 납기는 주문 수량, 제품 규격, 생산 일정에 따라 달라질 수 있으며, 
                        견적 시 구체적인 납기를 안내해드립니다.</p>
                    </div>
                </div>

                <!-- Quality Category -->
                <div class="faq-item" data-category="quality">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>품질 보증은 어떻게 되나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>남경스틸(주)의 품질 보증 내용:</p>
                        <ul>
                            <li><strong>ISO 9001</strong>: 국제 품질경영시스템 인증</li>
                            <li><strong>KS 인증</strong>: 한국산업표준 인증 제품</li>
                            <li><strong>품질 보증서</strong>: 모든 제품에 품질 보증서 제공</li>
                            <li><strong>시험성적서</strong>: 화학 성분 및 기계적 성질 시험 성적서</li>
                        </ul>
                        <p>만약 품질 불량이 발생한 경우, 즉시 교체 또는 환불 처리해드리며, 
                        이로 인한 손해에 대해서는 배상 책임을 집니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="quality">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>검사성적서는 어떻게 받을 수 있나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>검사성적서는 다음과 같이 제공됩니다:</p>
                        <ul>
                            <li><strong>기본 제공</strong>: 모든 제품에 밀시트(Mill Sheet) 제공</li>
                            <li><strong>상세 시험서</strong>: 요청 시 화학 성분 및 기계적 성질 시험서</li>
                            <li><strong>특수 검사</strong>: 초음파, 자분탐상 등 특수 검사 성적서</li>
                            <li><strong>제3자 검사</strong>: 공인 검사기관의 검사 성적서</li>
                        </ul>
                        <p>검사성적서는 제품 납품 시 함께 제공되며, 
                        추가 서류가 필요한 경우 미리 요청해주시면 준비해드립니다.</p>
                    </div>
                </div>

                <!-- Service Category -->
                <div class="faq-item" data-category="service">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>가공 서비스는 어떤 것들이 있나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>남경스틸(주)에서 제공하는 가공 서비스:</p>
                        <ul>
                            <li><strong>절단 가공</strong>: 플라즈마, 레이저, 가스, 워터젯 절단</li>
                            <li><strong>용접 가공</strong>: 아크, 가스, TIG, 특수 용접</li>
                            <li><strong>굽힘 가공</strong>: 프레스 브레이크, 롤 벤딩</li>
                            <li><strong>구멍 가공</strong>: 드릴링, 리밍, 탭핑</li>
                            <li><strong>표면 처리</strong>: 샌드블라스팅, 도장, 도금</li>
                            <li><strong>조립 서비스</strong>: 구조물 조립, 부품 조립</li>
                        </ul>
                        <p>각 가공 서비스별로 정밀도와 가공 범위가 다르므로, 
                        상세한 상담을 통해 최적의 솔루션을 제안해드립니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="service">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>기술 지원은 어떻게 받을 수 있나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>다양한 기술 지원 서비스를 제공합니다:</p>
                        <ul>
                            <li><strong>전화 상담</strong>: 051-314-9701 (평일 09:00-18:00)</li>
                            <li><strong>이메일 상담</strong>: namkyungst@naver.com</li>
                            <li><strong>현장 방문</strong>: 필요시 전문 기술진 현장 방문</li>
                            <li><strong>온라인 상담</strong>: 홈페이지 실시간 채팅</li>
                        </ul>
                        <p>제품 선택, 가공 방법, 용도별 적용 등 모든 기술적 문의에 대해 
                        경험 많은 전문가가 친절하게 답변해드립니다.</p>
                    </div>
                </div>

                <!-- Payment Category -->
                <div class="faq-item" data-category="payment">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>결제 조건은 어떻게 되나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>결제 조건은 다음과 같습니다:</p>
                        <ul>
                            <li><strong>신규 고객</strong>: 선금 50%, 납품 후 잔금 50%</li>
                            <li><strong>기존 고객</strong>: 월말 결제 (NET 30일)</li>
                            <li><strong>대량 주문</strong>: 별도 협의</li>
                            <li><strong>수출</strong>: L/C 또는 T/T 결제</li>
                        </ul>
                        <p>결제 방법은 계좌이체, 어음, 현금 등이 가능하며, 
                        거래 실적에 따라 결제 조건을 조정할 수 있습니다.</p>
                    </div>
                </div>

                <div class="faq-item" data-category="payment">
                    <button class="faq-question" onclick="toggleFAQ(this)">
                        <div class="d-flex align-items-center">
                            <div class="faq-icon">Q</div>
                            <span>세금계산서는 언제 발행되나요?</span>
                        </div>
                        <i class="bi bi-chevron-down faq-toggle"></i>
                    </button>
                    <div class="faq-answer">
                        <p>세금계산서 발행 시기:</p>
                        <ul>
                            <li><strong>납품 완료 후</strong>: 일반적으로 납품 당일 또는 익일</li>
                            <li><strong>월말 정산</strong>: 월말 결제 고객의 경우 월말 일괄 발행</li>
                            <li><strong>즉시 발행</strong>: 요청 시 즉시 발행 가능</li>
                            <li><strong>전자세금계산서</strong>: 이메일로 전송</li>
                        </ul>
                        <p>세금계산서 발행을 위해서는 정확한 사업자등록번호와 
                        회사명, 주소, 업태/종목이 필요합니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact CTA Section -->
    <section class="contact-cta">
        <div class="container">
            <h2>찾으시는 답변이 없으신가요?</h2>
            <p class="lead">전문 상담사가 직접 답변해드립니다</p>
            <div class="mt-4">
                <a href="tel:051-314-9701" class="cta-btn">
                    <i class="bi bi-telephone"></i> 전화 상담
                </a>
                <a href="mailto:namkyungst@naver.com" class="cta-btn">
                    <i class="bi bi-envelope"></i> 이메일 문의
                </a>
                <a href="technical-support.html" class="cta-btn">
                    <i class="bi bi-chat-dots"></i> 온라인 상담
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-column">
                        <h3>남경스틸(주)</h3>
                        <p>철강산업의 리더로서 최고의 품질과 서비스를 제공합니다.</p>
                    </div>
                    <div class="footer-column">
                        <h4>빠른 링크</h4>
                        <ul>
                            <li><a href="#">회사소개</a></li>
                            <li><a href="#">제품정보</a></li>
                            <li><a href="#">견적문의</a></li>
                            <li><a href="#">채용정보</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>고객지원</h4>
                        <ul>
                            <li><a href="#">자주묻는질문</a></li>
                            <li><a href="#">카탈로그</a></li>
                            <li><a href="#">A/S 신청</a></li>
                            <li><a href="#">오시는길</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>연락처</h4>
                        <ul class="contact-info">
                            <li><i class="fas fa-map-marker-alt"></i> 부산시 사상구 낙동대로 832</li>
                            <li><i class="fas fa-phone"></i> 051-314-9701</li>
                            <li><i class="fas fa-fax"></i> 051-314-9702</li>
                            <li><i class="fas fa-envelope"></i> namkyungst@naver.com</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <div class="bottom-content">
                    <p>&copy; 2025 남경스틸(주). All rights reserved.</p>
                    <div class="footer-links">
                        <a href="#">개인정보처리방침</a>
                        <a href="#">이용약관</a>
                        <a href="#">이메일무단수집거부</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // 드롭다운 메뉴 클릭 기능 (모바일용)
        document.addEventListener('DOMContentLoaded', function() {
            const dropdownToggles = document.querySelectorAll('.toggle-dropdown');
            
            dropdownToggles.forEach(function(toggle) {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    const dropdown = this.closest('.dropdown');
                    const isActive = dropdown.classList.contains('active');
                    
                    // 다른 모든 드롭다운 닫기
                    document.querySelectorAll('.dropdown.active').forEach(function(activeDropdown) {
                        if (activeDropdown !== dropdown) {
                            activeDropdown.classList.remove('active');
                        }
                    });
                    
                    // 현재 드롭다운 토글
                    dropdown.classList.toggle('active', !isActive);
                });
            });
            
            // 외부 클릭 시 드롭다운 닫기
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.dropdown')) {
                    document.querySelectorAll('.dropdown.active').forEach(function(dropdown) {
                        dropdown.classList.remove('active');
                    });
                }
            });
        });

        // FAQ 토글 기능
        function toggleFAQ(element) {
            const answer = element.nextElementSibling;
            const isActive = element.classList.contains('active');
            
            // 모든 FAQ 닫기
            document.querySelectorAll('.faq-question').forEach(q => {
                q.classList.remove('active');
            });
            document.querySelectorAll('.faq-answer').forEach(a => {
                a.classList.remove('active');
            });
            
            // 클릭된 FAQ 토글
            if (!isActive) {
                element.classList.add('active');
                answer.classList.add('active');
            }
        }

        // 카테고리 필터링
        function filterFAQ(category) {
            const items = document.querySelectorAll('.faq-item');
            const buttons = document.querySelectorAll('.category-btn');
            
            // 버튼 상태 업데이트
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // 아이템 표시/숨기기
            items.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // FAQ 검색 기능
        function searchFAQ() {
            const searchTerm = document.getElementById('faqSearch').value.toLowerCase();
            const items = document.querySelectorAll('.faq-item');
            
            items.forEach(item => {
                const question = item.querySelector('.faq-question span').textContent.toLowerCase();
                const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
                
                if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // 검색 입력 시 실시간 검색
        document.getElementById('faqSearch').addEventListener('input', searchFAQ);
    </script>

    <!-- 로그인/회원가입 모달 -->
    <div id="authModal" class="modal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="authModalTitle">로그인</h2>
          <button class="close-btn" onclick="closeAuthModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <!-- 로그인 폼 -->
          <div id="loginForm" class="auth-form">
            <div class="form-group">
              <label>이메일</label>
              <input type="email" id="loginEmail" placeholder="이메일을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>비밀번호</label>
              <input type="password" id="loginPassword" placeholder="비밀번호를 입력하세요" required>
            </div>
            
            <button type="button" onclick="handleEmailLogin()" class="btn-primary">로그인</button>
            
            <!-- 구분선 -->
            <div class="divider">
              <span>또는</span>
            </div>
            
            <!-- Google 로그인 -->
            <button type="button" onclick="handleGoogleLogin()" class="btn-google">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M17.64 9.205c0-.639-.057-1.252-.164-1.841H9v3.481h4.844a4.14 4.14 0 0 1-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z" fill="#4285F4"/>
                  <path d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332A8.997 8.997 0 0 0 9 18z" fill="#34A853"/>
                  <path d="M3.964 10.71A5.41 5.41 0 0 1 3.682 9c0-.593.102-1.17.282-1.71V4.958H.957A8.996 8.996 0 0 0 0 9c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill="#FBBC05"/>
                  <path d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0A8.997 8.997 0 0 0 .957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z" fill="#EA4335"/>
                </g>
              </svg>
              Google로 로그인
            </button>

            <!-- 카카오 로그인 -->
            <button type="button" onclick="handleKakaoLogin()" class="btn-kakao">
              <svg width="18" height="18" viewBox="0 0 18 18">
                <g fill="none" fill-rule="evenodd">
                  <path d="M9 0C4.03 0 0 3.13 0 7c0 2.52 1.67 4.74 4.19 6.04L3.5 16.5c-.13.47.35.85.76.6l3.92-2.65c.28.02.55.05.82.05 4.97 0 9-3.13 9-7S13.97 0 9 0z" fill="#3C1E1E"/>
                </g>
              </svg>
              카카오로 로그인
            </button>
            
            <div class="auth-switch">
              계정이 없으신가요? <a href="#" onclick="showRegisterForm()">회원가입</a>
            </div>
          </div>
          
          <!-- 회원가입 폼 -->
          <div id="registerForm" class="auth-form" style="display: none;">
            <div class="form-group">
              <label>이름</label>
              <input type="text" id="registerName" placeholder="이름을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>이메일</label>
              <input type="email" id="registerEmail" placeholder="이메일을 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>비밀번호</label>
              <input type="password" id="registerPassword" placeholder="비밀번호를 입력하세요 (최소 6자)" required minlength="6">
            </div>
            
            <div class="form-group">
              <label>비밀번호 확인</label>
              <input type="password" id="confirmPassword" placeholder="비밀번호를 다시 입력하세요" required>
            </div>
            
            <div class="form-group">
              <label>부서 (선택사항)</label>
              <input type="text" id="registerDepartment" placeholder="부서를 입력하세요">
            </div>
            
            <div class="form-group">
              <label>직책 (선택사항)</label>
              <input type="text" id="registerPosition" placeholder="직책을 입력하세요">
            </div>
            
            <button type="button" onclick="handleRegister()" class="btn-primary">회원가입</button>
            
            <div class="auth-switch">
              이미 계정이 있으신가요? <a href="#" onclick="showLoginForm()">로그인</a>
            </div>
          </div>
          
          <div id="authStatus" class="status-message" style="display: none;"></div>
        </div>
      </div>
    </div>

    <!-- 프로필 모달 -->
    <div class="modal" id="profileModal" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2>프로필 설정</h2>
          <button class="close-btn" onclick="hideProfileModal()">&times;</button>
        </div>
        
        <div class="modal-body">
          <div class="profile-section">
            <div class="profile-image-section">
              <div class="current-profile-image">
                <img id="modalProfileImage" src="" alt="프로필 이미지" />
              </div>
              <div class="profile-image-upload">
                <input type="file" id="profileImageInput" accept="image/*" style="display: none;" onchange="handleProfileImageUpload(event)">
                <button type="button" onclick="document.getElementById('profileImageInput').click()">이미지 변경</button>
              </div>
            </div>
            
            <form id="profileForm">
              <div class="form-group">
                <label>이름</label>
                <input type="text" id="profileUserName" readonly>
              </div>
              
              <div class="form-group">
                <label>이메일</label>
                <input type="email" id="profileUserEmail" readonly>
              </div>
              
              <div class="form-group">
                <label>부서</label>
                <input type="text" id="profileUserDepartment" readonly>
              </div>
              
              <div class="form-group">
                <label>직책</label>
                <input type="text" id="profileUserPosition" readonly>
              </div>
            </form>
          </div>
          
          <div class="password-section">
            <h3>비밀번호 변경</h3>
            <form id="passwordChangeForm">
              <div class="form-group">
                <label>현재 비밀번호</label>
                <input type="password" id="currentPassword" required>
              </div>
              
              <div class="form-group">
                <label>새 비밀번호</label>
                <input type="password" id="newPassword" required minlength="6">
              </div>
              
              <div class="form-group">
                <label>새 비밀번호 확인</label>
                <input type="password" id="confirmPassword" required>
              </div>
              
              <button type="submit" class="btn-change-password">비밀번호 변경</button>
            </form>
          </div>
        </div>
        
        <div class="modal-footer">
          <button onclick="logout()" class="btn-logout">로그아웃</button>
          <button onclick="hideProfileModal()" class="btn-close">닫기</button>
        </div>
      </div>
    </div>

    <style>
      /* 프로필 모달 스타일 */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      
      .modal-content {
        background: white;
        border-radius: 10px;
        width: 90%;
        max-width: 500px;
        max-height: 80%;
        overflow-y: auto;
      }
      
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid #eee;
      }
      
      .modal-header h2 {
        margin: 0;
        color: #333;
      }
      
      .close-btn {
        background: none;
        border: none;
        font-size: 24px;
        color: #999;
        cursor: pointer;
        position: absolute;
        right: 20px;
        top: 20px;
        padding: 5px;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: color 0.3s ease;
        z-index: 1001;
      }
      
      .close-btn:hover {
        color: #333;
      }
      
      .modal-body {
        padding: 20px;
      }
      
      .profile-image-section {
        text-align: center;
        margin-bottom: 30px;
      }
      
      .current-profile-image img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #667eea;
        margin-bottom: 15px;
      }
      
      .profile-image-upload button {
        background: #667eea;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 5px;
        cursor: pointer;
      }
      
      .form-group {
        margin-bottom: 15px;
      }
      
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: #333;
      }
      
      .form-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
      }
      
      .form-group input[readonly] {
        background: #f5f5f5;
      }
      
      .password-section {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
      }
      
      .password-section h3 {
        margin-bottom: 20px;
        color: #333;
      }
      
      .btn-change-password {
        width: 100%;
        background: #28a745;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 10px;
      }
      
      .btn-change-password:hover {
        background: #218838;
      }
      
      .modal-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-top: 1px solid #eee;
        gap: 10px;
      }
      
      .btn-logout {
        background: #dc3545;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-logout:hover {
        background: #c82333;
      }
      
      .btn-close {
        background: #6c757d;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: background-color 0.3s ease;
        white-space: nowrap;
        min-width: 80px;
      }
      
      .btn-close:hover {
        background: #545b62;
      }
    </style>

    <!-- Vendor JS Files from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

    <!-- Supabase 및 로그인 기능 -->
    <script>
      // Supabase 설정
      const SUPABASE_URL = 'https://zgyawfmjconubxaiamod.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpneWF3Zm1qY29udWJ4YWlhbW9kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3NjQzNzIsImV4cCI6MjA2NzM0MDM3Mn0.shjBE2OQeILwkLLi4E6Bq0-b6YPUs-WFwquexdUiM9A';
      
      // Supabase 클라이언트 초기화
      let supabaseClient = null;
      
      try {
        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY, {
          auth: {
            persistSession: true,
            detectSessionInUrl: true,
            autoRefreshToken: true
          }
        });
        console.log('✅ Supabase 클라이언트 초기화 완료');
      } catch (error) {
        console.error('❌ Supabase 초기화 오류:', error);
      }
      
      // 상태 표시 함수
      function showStatus(message, type = 'info') {
        const status = document.getElementById('authStatus');
        status.style.display = 'block';
        status.className = `status-message status-${type}`;
        status.textContent = message;
        
        console.log(`${type.toUpperCase()}: ${message}`);
      }
      
      // 인증 모달 열기 (로그인 폼)
      function showLoginModal() {
        console.log('🔐 로그인 모달 열기');
        document.getElementById('authModal').style.display = 'flex';
        showLoginForm();
      }
      
      // 인증 모달 닫기
      function closeAuthModal() {
        console.log('❌ 인증 모달 닫기');
        document.getElementById('authModal').style.display = 'none';
        clearAuthForms();
      }
      
      // 로그인 폼 표시
      function showLoginForm() {
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('registerForm').style.display = 'none';
        document.getElementById('authModalTitle').textContent = '로그인';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 회원가입 폼 표시
      function showRegisterForm() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('registerForm').style.display = 'block';
        document.getElementById('authModalTitle').textContent = '회원가입';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 폼 초기화
      function clearAuthForms() {
        document.getElementById('loginEmail').value = '';
        document.getElementById('loginPassword').value = '';
        document.getElementById('registerName').value = '';
        document.getElementById('registerEmail').value = '';
        document.getElementById('registerPassword').value = '';
        document.getElementById('confirmPassword').value = '';
        document.getElementById('registerDepartment').value = '';
        document.getElementById('registerPosition').value = '';
        document.getElementById('authStatus').style.display = 'none';
      }
      
      // 이메일 로그인
      async function handleEmailLogin() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        if (!email || !password) {
          showStatus('이메일과 비밀번호를 입력하세요.', 'error');
          return;
        }
        
        showStatus('로그인 중...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithPassword({
            email: email,
            password: password
          });
          
          if (error) {
            showStatus('로그인 실패: ' + error.message, 'error');
          } else {
            showStatus('로그인 성공!', 'success');
            console.log('사용자 정보:', data.user);
            
            const user = {
              id: data.user.id,
              email: data.user.email,
              name: data.user.user_metadata?.name || data.user.email,
              profileImage: data.user.user_metadata?.avatar_url,
              provider: 'email'
            };
            
            saveUserAndUpdateUI(user);
            closeAuthModal();
            
            setTimeout(() => {
              window.location.href = 'employee-dashboard.html';
            }, 1000);
          }
        } catch (error) {
          showStatus('로그인 오류: ' + error.message, 'error');
        }
      }
      
      // 회원가입
      async function handleRegister() {
        const name = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const department = document.getElementById('registerDepartment').value;
        const position = document.getElementById('registerPosition').value;
        
        if (!name || !email || !password) {
          showStatus('이름, 이메일, 비밀번호는 필수 입력 항목입니다.', 'error');
          return;
        }
        
        if (password !== confirmPassword) {
          showStatus('비밀번호가 일치하지 않습니다.', 'error');
          return;
        }
        
        if (password.length < 6) {
          showStatus('비밀번호는 최소 6자 이상이어야 합니다.', 'error');
          return;
        }
        
        showStatus('회원가입 중...', 'info');
        
        try {
          const { data, error } = await supabaseClient.auth.signUp({
            email: email,
            password: password,
            options: {
              data: {
                name: name,
                department: department,
                position: position,
                company_domain: 'namkyungsteel.com',
                company_name: '남경스틸(주)'
              }
            }
          });
          
          if (error) {
            showStatus('회원가입 실패: ' + error.message, 'error');
          } else {
            console.log('Supabase Auth 회원가입 성공:', data);
            
            try {
              if (data.user) {
                const { data: insertData, error: insertError } = await supabaseClient
                  .from('users')
                  .insert([
                    {
                      id: data.user.id,
                      email: email,
                      name: name,
                      department: department || '',
                      position: position || '',
                      company_domain: 'namkyungsteel.com',
                      company_name: '남경스틸(주)',
                      role: 'employee',
                      created_at: new Date().toISOString()
                    }
                  ]);
                
                if (insertError) {
                  console.error('❌ users 테이블 저장 오류:', insertError);
                  showStatus('회원가입은 성공했지만 사용자 정보 저장에 실패했습니다.', 'error');
                } else {
                  console.log('✅ users 테이블에 사용자 정보 저장 완료:', insertData);
                  showStatus('회원가입 성공! 이메일을 확인해주세요.', 'success');
                }
              }
            } catch (tableError) {
              console.error('❌ users 테이블 저장 예외:', tableError);
            }
            
            if (data.user && data.session) {
              const user = {
                id: data.user.id,
                email: data.user.email,
                name: name,
                department: department,
                position: position,
                provider: 'email'
              };
              
              saveUserAndUpdateUI(user);
              closeAuthModal();
              
              setTimeout(() => {
                window.location.href = 'employee-dashboard.html';
              }, 1000);
            }
          }
        } catch (error) {
          showStatus('회원가입 오류: ' + error.message, 'error');
        }
      }
      
      // 사용자 정보 저장 및 UI 업데이트
      function saveUserAndUpdateUI(user) {
        sessionStorage.setItem('currentUser', JSON.stringify(user));
        updateUIForLoggedInUser(user);
        console.log('✅ 사용자 정보 저장 및 UI 업데이트 완료:', user);
      }
      
      // 로그인된 사용자용 UI 업데이트
      function updateUIForLoggedInUser(user) {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'none';
          userProfile.style.display = 'flex';
          
          const profileImage = document.getElementById('profileImage');
          if (user.profileImage) {
            profileImage.src = user.profileImage;
          }
          
          const profileName = document.getElementById('profileName');
          if (profileName) {
            profileName.textContent = user.name;
          }
        }
      }
      
      // 로그아웃된 상태용 UI 업데이트
      function updateUIForLoggedOutUser() {
        const loginBtn = document.getElementById('mainLoginBtn');
        const userProfile = document.getElementById('userProfile');
        
        if (loginBtn && userProfile) {
          loginBtn.style.display = 'flex';
          userProfile.style.display = 'none';
        }
      }
      
      // 로그아웃
      function logout() {
        sessionStorage.removeItem('currentUser');
        updateUIForLoggedOutUser();
        console.log('🚪 로그아웃 완료');
        
        hideProfileModal();
        
        setTimeout(() => {
          window.location.href = '/index.html';
        }, 100);
      }
      
      // Google 로그인
      async function handleGoogleLogin() {
        console.log('🔐 Google 로그인 시작');
        showStatus('Google 로그인 중...', 'info');
        
        if (!supabaseClient) {
          showStatus('데이터베이스 연결이 필요합니다.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'google',
            options: {
              redirectTo: 'https://namkyungsteel.com'
            }
          });
          
          if (error) {
            console.error('❌ Google 로그인 오류:', error);
            showStatus('Google 로그인 오류: ' + error.message, 'error');
          } else {
            console.log('✅ Google OAuth 시작됨:', data);
            showStatus('Google 로그인 페이지로 이동합니다...', 'success');
          }
        } catch (error) {
          console.error('❌ Google 로그인 예외:', error);
          showStatus('Google 로그인 중 오류가 발생했습니다: ' + error.message, 'error');
        }
      }

      // 카카오 로그인
      async function handleKakaoLogin() {
        console.log('🔐 Kakao 로그인 시작');
        showStatus('카카오 로그인 중...', 'info');
        
        if (!supabaseClient) {
          showStatus('데이터베이스 연결이 필요합니다.', 'error');
          return;
        }
        
        try {
          const { data, error } = await supabaseClient.auth.signInWithOAuth({
            provider: 'kakao',
            options: {
              redirectTo: 'https://namkyungsteel.com',
              scopes: 'profile_nickname profile_image account_email'
            }
          });
          
          if (error) {
            console.error('❌ Kakao 로그인 오류:', error);
            showStatus('카카오 로그인 오류: ' + error.message, 'error');
          } else {
            console.log('✅ Kakao OAuth 시작됨:', data);
            showStatus('카카오 로그인 페이지로 이동합니다...', 'success');
          }
        } catch (error) {
          console.error('❌ Kakao 로그인 예외:', error);
          showStatus('카카오 로그인 중 오류가 발생했습니다: ' + error.message, 'error');
        }
      }
      
      // OAuth 콜백 처리
      async function handleOAuthCallback() {
        const urlParams = new URLSearchParams(window.location.search);
        const hashParams = new URLSearchParams(window.location.hash.substring(1));
        
        if (urlParams.get('code') || hashParams.get('access_token') || window.location.hash.includes('access_token')) {
          console.log('🔐 OAuth 콜백 감지됨');
          
          try {
            const { data: { session }, error } = await supabaseClient.auth.getSession();
            
            if (error && !error.message.includes('skew')) {
              console.error('❌ 세션 확인 오류:', error);
              return;
            }
            
            if (session && session.user) {
              console.log('✅ OAuth 로그인 성공:', session.user);
              
              const actualProvider = session.user.app_metadata?.provider || 'unknown';
              const user = {
                id: session.user.id,
                email: session.user.email,
                name: session.user.user_metadata?.name || session.user.user_metadata?.full_name || session.user.email,
                profileImage: session.user.user_metadata?.avatar_url || session.user.user_metadata?.picture,
                provider: actualProvider
              };
              
              try {
                const { data: existingUser, error: selectError } = await supabaseClient
                  .from('users')
                  .select('id')
                  .eq('id', user.id)
                  .single();
                
                if (!existingUser) {
                  const { data: insertData, error: insertError } = await supabaseClient
                    .from('users')
                    .insert([
                      {
                        id: user.id,
                        email: user.email,
                        name: user.name,
                        company_domain: 'namkyungsteel.com',
                        company_name: '남경스틸(주)',
                        role: null,
                        provider: actualProvider,
                        is_approved: false,
                        is_active: true,
                        created_at: new Date().toISOString()
                      }
                    ]);
                  
                  if (insertError) {
                    console.error('❌ OAuth 사용자 저장 오류:', insertError);
                  } else {
                    console.log('✅ OAuth 사용자 정보 저장 완료:', insertData);
                  }
                }
              } catch (tableError) {
                console.error('❌ OAuth 사용자 테이블 처리 예외:', tableError);
              }
              
              saveUserAndUpdateUI(user);
              window.history.replaceState({}, document.title, window.location.pathname);
              
              const provider = user.provider || 'OAuth';
              let providerName = '';
              if (provider === 'google') {
                  providerName = 'Google';
              } else if (provider === 'kakao') {
                  providerName = '카카오';
              } else {
                  providerName = '소셜';
              }
              
              alert(`${providerName} 로그인 성공! 환영합니다, ${user.name}`);
              window.location.href = 'employee-dashboard.html';
            }
          } catch (error) {
            if (!error.message.includes('skew')) {
              console.error('❌ OAuth 콜백 처리 오류:', error);
            }
          }
        }
      }
      
      // 페이지 로드 시 사용자 상태 확인 및 OAuth 콜백 처리
      document.addEventListener('DOMContentLoaded', function() {
        console.log('📄 페이지 로드됨');
        checkAndRestoreUserSession();
        handleOAuthCallback();
      });
      
      // 저장된 사용자 세션 확인 및 복원
      function checkAndRestoreUserSession() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            console.log('✅ 저장된 사용자 정보 복원:', user);
            updateUIForLoggedInUser(user);
          } catch (error) {
            console.error('❌ 사용자 정보 파싱 오류:', error);
            sessionStorage.removeItem('currentUser');
            updateUIForLoggedOutUser();
          }
        } else {
          console.log('ℹ️ 저장된 사용자 정보 없음');
          updateUIForLoggedOutUser();
        }
      }
      
      // 프로필 클릭 핸들러
      function handleProfileClick() {
        showProfileModal();
      }
      
      // 기본 아바타 생성 함수
      function generateDefaultAvatar(name) {
        return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiM2NjdlZWEiLz4KPHN2ZyB4PSIyMCIgeT0iMjQiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPvCfkYQ8L3N2Zz4KPC9zdmc+';
      }

      // 프로필 모달 표시
      function showProfileModal() {
        const currentUser = sessionStorage.getItem('currentUser');
        if (currentUser) {
          try {
            const user = JSON.parse(currentUser);
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (user.profileImage) {
              modalProfileImage.src = user.profileImage;
            } else {
              modalProfileImage.src = generateDefaultAvatar(user.name || user.email);
            }
            
            document.getElementById('profileUserName').value = user.name || '';
            document.getElementById('profileUserEmail').value = user.email || '';
            document.getElementById('profileUserDepartment').value = user.department || '';
            document.getElementById('profileUserPosition').value = user.position || '';
            
            document.getElementById('profileModal').style.display = 'flex';
          } catch (error) {
            console.error('❌ 사용자 정보 로드 오류:', error);
          }
        }
      }
      
      // 프로필 모달 숨기기
      function hideProfileModal() {
        document.getElementById('profileModal').style.display = 'none';
      }
      
      // 프로필 이미지 업로드
      async function handleProfileImageUpload(event) {
        const file = event.target.files[0];
        if (!file) return;
        
        if (file.size > 2 * 1024 * 1024) {
          alert('이미지 크기는 2MB 이하여야 합니다.');
          return;
        }
        
        if (!file.type.startsWith('image/')) {
          alert('이미지 파일만 업로드 가능합니다.');
          return;
        }
        
        const reader = new FileReader();
        reader.onload = async function(e) {
          const imageData = e.target.result;
          
          try {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            
            if (supabaseClient) {
              try {
                const { data, error } = await supabaseClient
                  .from('users')
                  .update({ 
                    profile_image: imageData,
                    updated_at: new Date().toISOString()
                  })
                  .eq('email', currentUser.email)
                  .select();
                  
                if (error) {
                  console.error('데이터베이스 업데이트 오류:', error);
                } else {
                  console.log('프로필 이미지 데이터베이스 업데이트 완료');
                }
              } catch (dbError) {
                console.error('데이터베이스 연결 오류:', dbError);
              }
            }
            
            currentUser.profileImage = imageData;
            sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            const modalProfileImage = document.getElementById('modalProfileImage');
            if (modalProfileImage) modalProfileImage.src = imageData;
            
            const headerProfileImage = document.getElementById('profileImage');
            if (headerProfileImage) headerProfileImage.src = imageData;
            
            alert('프로필 이미지가 업데이트되었습니다.');
          } catch (error) {
            console.error('이미지 업로드 오류:', error);
            alert('이미지 업로드 중 오류가 발생했습니다.');
          }
        };
        
        reader.readAsDataURL(file);
      }
      
      window.testGoogleLogin = handleGoogleLogin;
      window.testSupabase = function() {
        console.log('Supabase 클라이언트:', supabaseClient);
        return supabaseClient !== null;
      };
    </script>
</body>
</html>